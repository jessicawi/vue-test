{"remainingRequest":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\DailyRoutine.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\DailyRoutine.vue","mtime":1555338063068},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1552619052419},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1552619058571}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DataSource from \"../data/datasource\";\nimport moment from \"moment\";\n\nexport default {\n    name: \"DailyRoutine\",\n    data() {\n        return {\n            obj_Student: {},\n            arrobj_Classes: {},\n            ddlTaskDescription: '',\n            txtTimeStart: '',\n            txtTimeStop: '',\n            txtTimeCurrent: '',\n            txtRemark: '',\n            ddlRest: '',\n            ddlFeed: '',\n            ddlFeedBottleType: '',\n            ddlLatchOn: '',\n            ddlPoop: '',\n            ddlTexture: '',\n            ddlColor: '',\n            ddlHygiene: '',\n\n            selectionRest: '',\n            selectionStartEndTime: '',\n            selectionCurrentTime: '',\n            selectionRemark: '',\n            selectionFeed: '',\n            selectionFeedBottleType: '',\n            selectionLatchOn: '',\n            selectionPoop: '',\n            selectionTexture: '',\n            selectionColor: '',\n            selectionHygiene: '',\n            hardCodeItem: [],\n            DailyRoutineList: [],\n            StudentHeader: null,\n            selectedStudent: null,\n            selectall: false,\n            selectItem: false,\n            activityClass: [],\n            noActivity: false,\n        };\n    },\n    async created() {\n        this.loadStudents();\n        this.loadHardCodeArray();\n        this.loadHardCodeClassArray();\n    },\n    async mounted() {\n        this.txtTimeStart = moment().format(\"HH:mm\");\n    },\n    methods: {\n        getIcon(value) {\n            return require('../img/' + this.hardCodeItem[value]);\n        },\n        getClass(value) {\n            return this.activityClass[value];\n        },\n        async loadHardCodeArray() {\n            this.hardCodeItem = {\n\n                'Rest|Nap': \"Nap.png\",\n                'Rest|Sleep': 'Sleep.png',\n\n                'Feed|Bottle-Type|Formula': 'Formula.png',\n                'Feed|Bottle-Type|Breast Milk': 'Breast Milk.png',\n                'Feed|Solid': 'Solid.png',\n                'Feed|Latch On|Left': 'Left.png',\n                'Feed|Latch On|Right': 'Right.png',\n                'Feed|Menu': 'Menu.png',\n\n                'Poop|Texture|Creamy': 'Creamy.png',\n                'Poop|Texture|Firm': 'Firm.png',\n                'Poop|Texture|Hard': 'Hard.png',\n                'Poop|Texture|Watery': 'Watery.png',\n                'Poop|Color|Brown': 'Brown.png',\n                'Poop|Color|Tan': 'Tan.png',\n                'Poop|Color|Yellow': 'Yellow.png',\n                'Poop|Color|Green': 'Green.png',\n                'Poop|Color|Black': 'Black.png',\n\n                'Hygiene|Diaper change': 'Diaper change.png',\n                'Hygiene|Shower&Diaper change': 'Shower&Diaper Change.png',\n                'Hygiene|Shower': 'Shower.png',\n            };\n\n        },\n        async loadHardCodeClassArray() {\n            this.activityClass = {\n\n                'Rest|Nap': \"rest\",\n                'Rest|Sleep': 'rest',\n\n                'Feed|Bottle-Type|Formula': 'feed',\n                'Feed|Bottle-Type|Breast Milk': 'feed',\n                'Feed|Solid': 'feed',\n                'Feed|Latch On|Left': 'feed',\n                'Feed|Latch On|Right': 'feed',\n                'Feed|Menu': 'feed',\n\n                'Poop|Texture|Creamy': 'poop',\n                'Poop|Texture|Firm': 'poop',\n                'Poop|Texture|Hard': 'poop',\n                'Poop|Texture|Watery': 'poop',\n                'Poop|Color|Brown': 'poop',\n                'Poop|Color|Tan': 'poop',\n                'Poop|Color|Yellow': 'poop',\n                'Poop|Color|Green': 'poop',\n                'Poop|Color|Black': 'poop',\n\n                'Hygiene|Diaper change': 'hygiene',\n                'Hygiene|Shower&Diaper change': 'hygiene',\n                'Hygiene|Shower': 'hygiene',\n            };\n\n        },\n        async loadStudents() {\n            // this.arrobj_Classes = [];\n            // await DataSource.shared.getAttendanceClass().then((result) => {\n            //     return result.Table;\n            // }).then((result) => {\n            //     for (let obj of result) {\n            //         DataSource.shared.getAllActiveStudentsByClass(obj.PK_Class_ID).then((result) => {\n            //             obj.arrobj_Student = result.Table;\n            //             this.arrobj_Classes.push(obj);\n            //         });\n            //     }\n            // });\n\n            try {\n                this.$vs.loading();\n                this.arrobj_Classes = [];\n                const response = await DataSource.shared.getAttendanceClass();\n                if (response) {\n                    this.$vs.loading.close();\n                    let tempClasses = response.Table;\n                    let tempStudent = [];\n                    for (let obj of tempClasses) {\n                        const studentResponse = await DataSource.shared.getAllActiveStudentsByClass(obj.PK_Class_ID);\n                        if (studentResponse) {\n                            obj.arrobj_Student = studentResponse.Table;\n                            await tempStudent.push(obj);\n                            // this.arrobj_Classes = tempStudent;\n                        }\n                    }\n                    this.arrobj_Classes = tempStudent;\n                }\n            } catch (e) {\n                this.results = e;\n            }\n\n        },\n        checkAll() {\n            try {\n                if (this.selectall === false) {\n\n                    this.DailyRoutineList.forEach(m => {\n                        m.checked = true;\n                    });\n                    //\n                    // console.log(\"aa\");\n                    // this.$refs.chkitems.forEach(m => {\n                    //     m.checked = true;\n                    //     m.check = true;\n                    // });\n                    // this.selectItem = true;\n                    // console.log(this.selectItem);\n                } else {\n\n                    this.DailyRoutineList.forEach(m => {\n                        m.checked = false;\n                    });\n\n                    //\n                    //\n                    // console.log(\"bbs\");\n                    // this.selectItem = false;\n                    // this.$refs.chkitems.forEach(m => {\n                    //     m.checked = false;\n                    // });\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        Load(Student_ID) {\n            try {\n                const response = DataSource.shared.getDailyRoutineByStudentID(Student_ID.Student_ID);\n                this.StudentHeader = Student_ID.First_Name;\n                this.obj_Student = Student_ID;\n                response.then((response) => {\n                    this.DailyRoutineList = (response.Table) ? response.Table : [];\n                    if (response.code === '2') {\n                        console.log(\"noach\");\n                        this.noActivity = true;\n                    }\n                });\n\n                if (this.$refs.isCheckAll.checked === true) {\n                    this.$refs.isCheckAll.checked = false;\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        TaskDescription() {\n            this.selectionRest = false;\n            this.selectionFeed = false;\n            this.selectionPoop = false;\n            this.selectionHygiene = false;\n            this.selectionStartEndTime = false;\n            this.selectionCurrentTime = false;\n            this.selectionRemark = false;\n            console.log(this.ddlTaskDescription);\n            if (this.ddlTaskDescription === 'Rest') {\n                this.selectionRest = true;\n                this.selectionStartEndTime = true;\n                this.selectionRemark = true;\n            } else if (this.ddlTaskDescription === 'Feed') {\n                this.selectionCurrentTime = true;\n                this.selectionFeed = true;\n                this.selectionFeedBottleType = false;\n                this.selectionLatchOn = false;\n\n                if (this.ddlFeed === \"Bottle-Type\") {\n                    this.selectionFeedBottleType = true;\n                } else if (this.ddlFeed === \"Latch On\") {\n                    this.selectionLatchOn = true;\n                }\n                this.selectionRemark = true;\n            } else if (this.ddlTaskDescription === 'Poop') {\n                this.selectionPoop = true;\n                this.selectionTexture = false;\n                this.selectionColor = false;\n\n                if (this.ddlPoop === \"Texture\") {\n                    this.selectionTexture = true;\n                } else if (this.ddlPoop === \"Color\") {\n                    this.selectionColor = true;\n                }\n                this.selectionRemark = true;\n            } else if (this.ddlTaskDescription === 'Hygiene') {\n                this.selectionHygiene = true;\n                this.selectionCurrentTime = true;\n                this.selectionRemark = true;\n            }\n        },\n        btnAdd() {\n            try {\n                let drReferenceType = '';\n\n                if (Object.keys(this.obj_Student).length !== 0) {\n\n                    if (this.selectionRest === true) {\n                        if (this.ddlRest === \"Nap\") {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlRest;\n\n                        } else if (this.ddlRest === \"Sleep\") {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlRest;\n                        }\n                    } else if (this.selectionFeed == true) {\n                        if (this.selectionFeedBottleType == true) {\n                            if (this.ddlFeedBottleType === \"Formula\") {\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlFeedBottleType;\n                            } else if (this.ddlFeedBottleType === \"Breast Milk\") {\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlFeedBottleType;\n                            }\n                        } else if (this.ddlFeed === \"Solid\") {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed;\n                        } else if (this.selectionLatchOn == true) {\n                            if (this.ddlLatchOn === \"Left\") {\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlLatchOn;\n                            } else if (this.ddlLatchOn === \"Right\") {\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlLatchOn;\n                            }\n\n                        } else if (this.ddlFeed === \"Menu\") {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed;\n                        }\n\n                    } else if (this.selectionPoop == true) {\n                        if (this.selectionTexture == true) {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlPoop + \"|\" + this.ddlTexture;\n                        } else if (this.selectionColor == true) {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlPoop + \"|\" + this.ddlColor;\n                        }\n\n                    } else if (this.selectionHygiene == true) {\n                        if (this.ddlHygiene === \"Diaper change\") {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlHygiene;\n                        } else if (this.ddlHygiene === \"Shower&Diaper change\") {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlHygiene;\n                        } else if (this.ddlHygiene === \"Shower\") {\n                            drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlHygiene;\n                        }\n\n                    }\n\n                    let btnAddObject = [];\n                    btnAddObject.DrStartTime = this.txtTimeStart;\n                    btnAddObject.DrEndTime = this.txtTimeStop;\n                    btnAddObject.DrRemark = this.txtRemark;\n                    btnAddObject.studentID = this.obj_Student.Student_ID;\n                    btnAddObject.DrReferenceType = drReferenceType;\n\n                    // console.log(btnAddObject.DrEndTime);\n                    // if (this.txtTimeStop === null || this.txtTimeStart === null || this.txtTimeStop === \"\" || this.txtTimeStart === \"\"){\n                    //     this.$notify.error({\n                    //         title: 'Error',\n                    //         message: 'Please fill in content'\n                    //     });\n                    // }else{\n\n\n                    if (this.selectionRest === true && this.txtTimeStop === \"\") {\n                        this.$notify.error({\n                            title: 'Error',\n                            message: 'Please fill in content'\n                        });\n                    } else if (this.selectionRest === true && this.txtTimeStart === \"\") {\n                        this.$notify.error({\n                            title: 'Error',\n                            message: 'Please fill in content'\n                        });\n                    } else if (this.selectionFeed === true && this.txtTimeStart === \"\") {\n                            this.$notify.error({\n                                title: 'Error',\n                                message: 'Please fill in content'\n                            });\n                    } else if (this.selectionHygiene === true && this.txtTimeStart === \"\") {\n                        this.$notify.error({\n                            title: 'Error',\n                            message: 'Please fill in content'\n                        });\n                    }else  {\n                        console.log(\"33\");\n                        const resp = DataSource.shared.addDailyRoutine(btnAddObject);\n                        resp.then((resp) => {\n\n                            let tempStudent = this.obj_Student;\n                            let tempClass = this.arrobj_Classes;\n                            Object.assign(this.$data, this.$options.data.call(this));\n\n                            this.arrobj_Classes = tempClass;\n                            this.loadHardCodeArray();\n\n                            this.obj_Student = tempStudent;\n                            this.Load(this.obj_Student);\n                            console.log(this.obj_Student.Student_ID);\n\n                            if (resp.code === '1') {\n                                this.$notify({\n                                    title: 'Success',\n                                    message: 'Task added.',\n                                    type: 'success'\n                                });\n                                // alert('Task added.');\n\n                            } else {\n                                this.$notify.error({\n                                    title: 'Error',\n                                    message: 'Error'\n                                });\n                                // alert('Error.');\n                            }\n                        });\n                    }\n\n                } else {\n                    this.$notify.error({\n                        title: 'Error',\n                        message: 'Please select student.'\n                    });\n                    // alert(\"Please select student.\");\n                }\n\n            } catch (e) {\n                alert(e);\n                console.log(e);\n            }\n        },\n        btnDelete() {\n            try {\n                let Count = 0;\n                let btnDelObject = [];\n                this.DailyRoutineList.forEach((m, index) => {\n                    if (m.checked === true) {\n                        console.log(\"go\");\n                        Count++;\n                        btnDelObject.DrStudentID = m.DrStudentID;\n                        btnDelObject.drID = m.DrID;\n                        DataSource.shared.deleteDailyRoutine(btnDelObject);\n                        console.log(\"deleted\");\n                        this.selectall = false;\n                        this.$notify({\n                            title: 'Success',\n                            message: 'Activity Deleted',\n                            type: 'success'\n                        });\n                    }\n                });\n                // this.$refs.dailyRoutineList_Update.forEach((m, index) => {\n                //     if (this.$refs.chkitems[index].checked === true) {\n                //         Count++;\n                //         btnDelObject.DrStudentID = this.DailyRoutineList[index].DrStudentID;\n                //         btnDelObject.drID = this.DailyRoutineList[index].DrID;\n                //         DataSource.shared.deleteDailyRoutine(btnDelObject);\n                //     }\n                // });\n                if (Count < 1) {\n                    this.$notify.error({\n                        title: 'Error',\n                        message: 'Nothing selected!'\n                    });\n                    // alert(\"Nothing selected!\");\n                }\n                this.Load(this.obj_Student);\n\n            } catch (exception) {\n                alert(exception);\n            }\n        },\n        btnUpdate() {\n            try {\n                //if no checkbox is checked, pop up alert\n                let Count = 0;\n                let btnUpdateObject = [];\n                console.log(this.DailyRoutineList);\n                this.DailyRoutineList.forEach((m, index) => {\n\n                    if (m.checked === true) {\n                        Count++;\n                        btnUpdateObject.DrStudentID = m.DrStudentID;\n                        btnUpdateObject.drID = m.DrID;\n                        btnUpdateObject.drRemark = m.DrRemark;\n                        DataSource.shared.updateDailyRoutine(btnUpdateObject);\n                        this.selectall = false;\n                    }\n\n                });\n                // ;this.$refs.dailyRoutineList_Update.forEach((m, index) => {\n                //\n                //     if (this.$refs.chkitems[index].checked === true) {\n                //         Count++;\n                //         btnUpdateObject.DrStudentID = this.DailyRoutineList[index].DrStudentID;\n                //         btnUpdateObject.drID = this.DailyRoutineList[index].DrID;\n                //         btnUpdateObject.drRemark = this.$refs.refDrRemark[index].value;\n                //         DataSource.shared.updateDailyRoutine(btnUpdateObject);\n                //     }\n                //\n                // });\n                if (Count < 1) {\n                    this.$notify.error({\n                        title: 'Error',\n                        message: 'Nothing selected!'\n                    });\n                    // alert(\"Nothing selected!\");\n                } else {\n                    this.$notify({\n                        title: 'Success',\n                        message: 'Task Updated.',\n                        type: 'success'\n                    });\n                    // alert(\"Task Updated.\");\n                }\n                this.Load(this.obj_Student);\n            } catch (exception) {\n                alert(exception);\n            }\n        },\n    }\n};\n",{"version":3,"sources":["DailyRoutine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8RA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DailyRoutine.vue","sourceRoot":"src\\pages","sourcesContent":["<template>\r\n    <div id='dailyroutine'>\r\n        <div class=\"container daily-header__wrap\" style=\"background: transparent;\">\r\n            <div class=\"daily-header\">\r\n                <div class=\"title\">\r\n                    <h4>DAILY ROUTINE</h4>\r\n                    <div v-if=\"StudentHeader === null\" class=\"mb-3\">Please select a student ...</div>\r\n                </div>\r\n                <div class=\"routine-select\">\r\n\r\n                    <!--<div  v-for=\"classes of arrobj_Classes\">-->\r\n                    <!--<div    v-for=\"student of classes.arrobj_Student\">-->\r\n                    <!--{{student}}-->\r\n                    <!--</div>-->\r\n                    <!--</div>-->\r\n                    <!--<br/>-->\r\n\r\n                    <el-select v-model=\"StudentHeader\" filterable placeholder=\"Select Student\" id=\"ddl_Students\"\r\n                               @input=\"Load\">\r\n                        <el-option-group\r\n                                v-for=\"classes of arrobj_Classes\"\r\n                                :key=\"classes.id\"\r\n                                :label=\"classes.CLS_ClassName\">\r\n                            <el-option\r\n                                    v-for=\"student of classes.arrobj_Student\"\r\n                                    :key=\"student.id\"\r\n                                    :label=\"student.First_Name + ' ' + student.Student_ID\"\r\n                                    :value=\"student\">\r\n                            </el-option>\r\n                        </el-option-group>\r\n                    </el-select>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div class=\"container daily-activity__wrap\" v-if=\"StudentHeader!==null\">\r\n            <h2 class=\"daily-studentName text-left\">{{StudentHeader}}</h2>\r\n            <!--<div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">-->\r\n            <!--<label>Select Student:</label>-->\r\n            <!--<b-form-select v-model=\"obj_Student\" class=\"mb-3\" id=\"ddl_Students\" @input=\"Load\">-->\r\n            <!--<optgroup v-for=\"classes of arrobj_Classes\" :label=\"classes.CLS_ClassName\" :key=\"classes.id\">-->\r\n            <!--<option v-for=\"student of classes.arrobj_Student\" v-bind:value=\"student.Student_ID\" :key=\"student.id\">-->\r\n            <!--{{student.First_Name}} : {{student.Student_ID}}-->\r\n            <!--</option>-->\r\n            <!--</optgroup>-->\r\n            <!--</b-form-select>-->\r\n            <!--</div>-->\r\n            <div v-if=\"StudentHeader !== null\">\r\n                <label class=\"activity-title\"><h5>Select Activity:</h5></label>\r\n                <div class=\"daily-activity\">\r\n                    <el-select v-model=\"ddlTaskDescription\" @change=\"TaskDescription()\">\r\n                        <el-option key=\"Rest\" label=\"Rest\" value=\"Rest\"></el-option>\r\n                        <el-option key=\"Feed\" label=\"Feed\" value=\"Feed\"></el-option>\r\n                        <el-option key=\"Poop\" label=\"Poop\" value=\"Poop\"></el-option>\r\n                        <el-option key=\"Hygiene\" label=\"Hygiene\" value=\"Hygiene\"></el-option>\r\n                    </el-select>\r\n                    <!--<select v-model='ddlTaskDescription' @change=\"TaskDescription()\">-->\r\n                    <!--<option>Rest</option>-->\r\n                    <!--<option>Feed</option>-->\r\n                    <!--<option>Poop</option>-->\r\n                    <!--<option>Hygiene</option>-->\r\n                    <!--</select>-->\r\n                    <el-select v-model=\"ddlRest\" v-if=\"selectionRest\">\r\n                        <el-option key=\"Nap\" label=\"Nap\" value=\"Nap\"></el-option>\r\n                        <el-option key=\"Sleep\" label=\"Sleep\" value=\"Sleep\"></el-option>\r\n                    </el-select>\r\n                    <!--<select v-model=\"ddlRest\">-->\r\n                    <!--<option></option>-->\r\n                    <!--<option>Nap</option>-->\r\n                    <!--<option>Sleep</option>-->\r\n                    <!--</select>-->\r\n\r\n                    <div class=\"daily-feed\" v-if=\"selectionFeed\">\r\n                        <el-select v-model=\"ddlFeed\" @change=\"TaskDescription()\">\r\n                            <el-option key=\"Bottle-Type\" label=\"Bottle-Type\" value=\"Bottle-Type\"></el-option>\r\n                            <el-option key=\"Solid\" label=\"Solid\" value=\"Solid\"></el-option>\r\n                            <el-option key=\"Latch On\" label=\"Latch On\" value=\"Latch On\"></el-option>\r\n                            <el-option key=\"Menu\" label=\"Menu\" value=\"Menu\"></el-option>\r\n                        </el-select>\r\n\r\n                        <el-select v-model=\"ddlFeedBottleType\" v-if=\"selectionFeedBottleType\">\r\n                            <el-option key=\"Formula\" label=\"Formula\" value=\"Formula\"></el-option>\r\n                            <el-option key=\"Breast Milk\" label=\"Breast Milk\" value=\"Breast Milk\"></el-option>\r\n                        </el-select>\r\n                        <el-select v-model=\"ddlLatchOn\" placeholder=\"Latch On\" v-if=\"selectionLatchOn\">\r\n                            <el-option key=\"Left\" label=\"Left\" value=\"Left\"></el-option>\r\n                            <el-option key=\"Right\" label=\"Right\" value=\"Right\"></el-option>\r\n                        </el-select>\r\n                    </div>\r\n\r\n                    <div v-if=\"selectionPoop\" class=\"daily-poop\">\r\n                        <el-select v-model=\"ddlPoop\" @change=\"TaskDescription()\">\r\n                            <el-option key=\"Texture\" label=\"Texture\" value=\"Texture\"></el-option>\r\n                            <el-option key=\"Color\" label=\"Color\" value=\"Color\"></el-option>\r\n                        </el-select>\r\n                        <el-select v-model=\"ddlTexture\" v-if=\"selectionTexture\">\r\n                            <el-option key=\"Creamy\" label=\"Creamy\" value=\"Creamy\"></el-option>\r\n                            <el-option key=\"Firm\" label=\"Firm\" value=\"Firm\"></el-option>\r\n                            <el-option key=\"Hard\" label=\"Hard\" value=\"Hard\"></el-option>\r\n                            <el-option key=\"Watery\" label=\"Watery\" value=\"Watery\"></el-option>\r\n                        </el-select>\r\n                        <el-select v-model=\"ddlColor\" v-if=\"selectionColor\">\r\n                            <el-option key=\"Brown\" label=\"Brown\" value=\"Brown\"></el-option>\r\n                            <el-option key=\"Tan\" label=\"Tan\" value=\"Tan\"></el-option>\r\n                            <el-option key=\"Yellow\" label=\"Yellow\" value=\"Yellow\"></el-option>\r\n                            <el-option key=\"Green\" label=\"Green\" value=\"Green\"></el-option>\r\n                            <el-option key=\"Black\" label=\"Black\" value=\"Black\"></el-option>\r\n                        </el-select>\r\n                    </div>\r\n                    <el-select v-model=\"ddlHygiene\" v-if=\"selectionHygiene\">\r\n                        <el-option key=\"Diaper change\" label=\"Diaper change\" value=\"Diaper change\"></el-option>\r\n                        <el-option key=\"Shower&Diaper change\" label=\"Shower&Diaper change\"\r\n                                   value=\"Shower&Diaper change\"></el-option>\r\n                        <el-option key=\"Shower\" label=\"Shower\" value=\"Shower\"></el-option>\r\n                    </el-select>\r\n                    <!--<el-time-picker type=\"time\" v-model=\"txtTimeStart\" value-format=\"hh:mm\"-->\r\n                    <!--placeholder=\"Get current time\" v-if=\"selectionCurrentTime\"></el-time-picker>-->\r\n\r\n                    <el-time-select\r\n                            placeholder=\"Get current time\"\r\n                            v-model=\"txtTimeStart\"\r\n                            v-if=\"selectionCurrentTime\">\r\n                    </el-time-select>\r\n\r\n                    <el-time-select\r\n                            placeholder=\"Get Start time\"\r\n                            v-model=\"txtTimeStart\"\r\n                            v-if=\"selectionStartEndTime\"\r\n                            :picker-options=\"{\r\n                            start: '08:30',\r\n                            step: '00:10',\r\n                            end: '20:30'\r\n                            }\">\r\n                    </el-time-select>\r\n\r\n                    <el-time-select\r\n                            placeholder=\"End time\"\r\n                            v-model=\"txtTimeStop\"\r\n                            v-if=\"selectionStartEndTime\"\r\n                            :picker-options=\"{\r\n                            start: '08:30',\r\n                            step: '00:10',\r\n                            end: '20:30',\r\n                            minTime: txtTimeStart\r\n                            }\">\r\n                    </el-time-select>\r\n\r\n                    <!--<el-time-picker type=\"time\" v-model=\"txtTimeStart\" value-format=\"hh:mm\"-->\r\n                    <!--placeholder=\"Get Start time\" v-if=\"selectionStartEndTime\"></el-time-picker>-->\r\n\r\n                    <!--<el-time-picker type=\"time\" v-model=\"txtTimeStop\" value-format=\"hh:mm\"-->\r\n                    <!--placeholder=\"Get End time\" v-if=\"selectionStartEndTime\"></el-time-picker>-->\r\n                </div>\r\n\r\n\r\n                <div v-if=\"selectionRemark\" class=\"daily-remark mt-3 mb-3 \">\r\n                    <label class=\"text-left\">Remark:</label>\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"txtRemark\">\r\n                    <b-button @click=\"btnAdd\">ADD</b-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"daily-empty\" v-if=\"StudentHeader === null\">\r\n            <img src=\"../assets/daily-baby.png\"/>\r\n        </div>\r\n        <div class=\"container mt-4\" v-if=\"StudentHeader !== null\">\r\n            <div class=\"daily-empty\" v-if=\"noActivity === true\">\r\n                <img src=\"../assets/empty-list.jpg\"/>\r\n            </div>\r\n            <div>\r\n                <div class=\"daily-timeline\" v-if=\"noActivity === false\">\r\n                    <div class=\"daily-checkall\">\r\n                        <h4>Today's Activity</h4>\r\n                        <vs-checkbox v-model=\"selectall\" ref=\"isCheckAll\" @click=\"checkAll()\">Select All</vs-checkbox>\r\n                        <!--<label class=\"control control&#45;&#45;checkbox\">-->\r\n                        <!--Select All-->\r\n                        <!--<input type=\"checkbox\" ref=\"isCheckAll\" @click=\"checkAll()\"/>-->\r\n                        <!--<div class=\"control__indicator\"></div>-->\r\n                        <!--</label>-->\r\n                        <!--<input class=\"form-control\" type=\"checkbox\" ref=\"isCheckAll\" @click=\"checkAll()\">-->\r\n                        <!--<input type=\"checkbox\" @click=\"checkAll()\" ref=\"isCheckAll\">-->\r\n                    </div>\r\n\r\n                    <div class=\"daily-timeline__item\" v-for=\"(item,i) in DailyRoutineList\" v-bind:value=\"item.drID\"\r\n                         :key=\"item.ID\" ref=\"dailyRoutineList_Update\" :class=\"item.MainReferenceType\">\r\n                        <div class=\"daily-item_image\">\r\n                            <img :src=\"getIcon(item.DrReferenceType)\"/>\r\n                        </div>\r\n                        <div class=\"daily-item_desc\">\r\n                            <div class=\"row daily-desc_wrap\">\r\n                                <div class=\"col-md-9\">\r\n                                    <label class=\"DrReferenceType\">{{item.DrReferenceType}}</label>\r\n                                    <!--<input type=\"text\" class=\"form-control\" v-model=\"item.DrRemark\" ref=\"refDrRemark\">-->\r\n                                    <el-input\r\n                                            type=\"textarea\"\r\n                                            autosize\r\n                                            placeholder=\"Remark\"\r\n                                            v-model=\"item.DrRemark\"\r\n                                            ref=\"refDrRemark\">\r\n                                    </el-input>\r\n                                    <!--<input type=\"text\" class=\"form-control\" v-model=\"item.DrRemark\" ref=\"refDrRemark\" :value=\"item.DrRemark\">-->\r\n                                </div>\r\n                                <div class=\"col-md-3 date\">\r\n                                    <label class=\"text-center daily-date-strong\"><strong>{{item.DrCreatedOn_convert}}</strong></label>\r\n                                    <label class=\"text-center\" v-if=\"item.MainReferenceType !== 'Poop'\">\r\n                                        <strong v-if=\"item.MainReferenceType === 'Rest'\">From:</strong>\r\n                                        <strong v-else>On:</strong>\r\n                                        {{item.DrStartTime_convert}}\r\n                                    </label>\r\n                                    <label class=\"text-center\"\r\n                                           v-if=\"item.MainReferenceType === 'Rest'\"><strong>To:</strong>\r\n                                        {{item.DrEndTime_convert}}</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"daily-item_chkitem\">\r\n                            <vs-checkbox ref=\"chkitems\" v-model=\"item.checked\"></vs-checkbox>\r\n                        </div>\r\n                        <!--<label class=\"lblCheckBox\">-->\r\n                        <!--<input class=\"form-control\" type=\"checkbox\" ref=\"chkitems\">-->\r\n                        <!--<span>-->\r\n                        <!--<span>-->\r\n                        <!--<svg class=\"checkmark\" viewBox=\"0 0 24 24\">-->\r\n                        <!--<path class=\"checkmark-path\" fill=\"none\" stroke=\"white\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"></path>-->\r\n                        <!--</svg>-->\r\n                        <!--</span>-->\r\n                        <!--</span>-->\r\n                        <!--</label>-->\r\n                    </div>\r\n\r\n                </div>\r\n                <!--<table border=\"3\" class=\"DrTable\">-->\r\n                <!--<thead>-->\r\n                <!--<tr>-->\r\n                <!--<th>No.</th>-->\r\n                <!--<th>Daily Routine Activity</th>-->\r\n                <!--<th>Start Time</th>-->\r\n                <!--<th>End Time</th>-->\r\n                <!--<th>CreatedOn</th>-->\r\n                <!--<th>Selected <br> <input type=\"checkbox\" @click=\"checkAll()\" ref=\"isCheckAll\"></th>-->\r\n                <!--<th>Remark</th>-->\r\n                <!--</tr>-->\r\n                <!--</thead>-->\r\n                <!--<tbody>-->\r\n                <!--<tr v-for=\"(item,i) in DailyRoutineList\" v-bind:value=\"item.drID\" :key=\"item.ID\"-->\r\n                <!--ref=\"dailyRoutineList_Update\">-->\r\n                <!--<td><label>{{i+1}}</label></td>-->\r\n                <!--<td><img :src=\"getIcon(item.DrReferenceType)\"/></td>-->\r\n                <!--<td><label>{{item.DrStartTime_convert}}</label></td>-->\r\n                <!--<td><label>{{item.DrEndTime_convert}}</label></td>-->\r\n                <!--<td><label>{{item.DrCreatedOn_convert}}</label></td>-->\r\n                <!--<td><input type=\"text\" class=\"form-control\" ref=\"refDrRemark\" :value=\"item.DrRemark\"></td>-->\r\n                <!--<td>-->\r\n                <!--<div class=\"form-group__wrapper row\">-->\r\n                <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12 checkbox_wrapper\">-->\r\n                <!--<label class=\"lblCheckBox\">-->\r\n                <!--<input class=\"form-control\" type=\"checkbox\" ref=\"chkitems\">-->\r\n                <!--<span>-->\r\n                <!--<span>-->\r\n                <!--<svg class=\"checkmark\" viewBox=\"0 0 24 24\"><path class=\"checkmark-path\"-->\r\n                <!--fill=\"none\" stroke=\"white\"-->\r\n                <!--d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"></path></svg>-->\r\n                <!--</span>-->\r\n                <!--</span>-->\r\n                <!--</label>-->\r\n                <!--</div>-->\r\n                <!--</div>-->\r\n                <!--</td>-->\r\n                <!--</tr>-->\r\n                <!--</tbody>-->\r\n                <!--</table>-->\r\n                <div class=\"row mt-3\" v-if=\"noActivity === false\">\r\n                    <div class=\"col-md-6\">\r\n                        <el-button type=\"danger\" @click=\"btnDelete\" class=\"float-left\">Delete</el-button>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <el-button type=\"primary\" @click=\"btnUpdate\" class=\"float-right\">Update</el-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n    import moment from \"moment\";\r\n\r\n    export default {\r\n        name: \"DailyRoutine\",\r\n        data() {\r\n            return {\r\n                obj_Student: {},\r\n                arrobj_Classes: {},\r\n                ddlTaskDescription: '',\r\n                txtTimeStart: '',\r\n                txtTimeStop: '',\r\n                txtTimeCurrent: '',\r\n                txtRemark: '',\r\n                ddlRest: '',\r\n                ddlFeed: '',\r\n                ddlFeedBottleType: '',\r\n                ddlLatchOn: '',\r\n                ddlPoop: '',\r\n                ddlTexture: '',\r\n                ddlColor: '',\r\n                ddlHygiene: '',\r\n\r\n                selectionRest: '',\r\n                selectionStartEndTime: '',\r\n                selectionCurrentTime: '',\r\n                selectionRemark: '',\r\n                selectionFeed: '',\r\n                selectionFeedBottleType: '',\r\n                selectionLatchOn: '',\r\n                selectionPoop: '',\r\n                selectionTexture: '',\r\n                selectionColor: '',\r\n                selectionHygiene: '',\r\n                hardCodeItem: [],\r\n                DailyRoutineList: [],\r\n                StudentHeader: null,\r\n                selectedStudent: null,\r\n                selectall: false,\r\n                selectItem: false,\r\n                activityClass: [],\r\n                noActivity: false,\r\n            };\r\n        },\r\n        async created() {\r\n            this.loadStudents();\r\n            this.loadHardCodeArray();\r\n            this.loadHardCodeClassArray();\r\n        },\r\n        async mounted() {\r\n            this.txtTimeStart = moment().format(\"HH:mm\");\r\n        },\r\n        methods: {\r\n            getIcon(value) {\r\n                return require('../img/' + this.hardCodeItem[value]);\r\n            },\r\n            getClass(value) {\r\n                return this.activityClass[value];\r\n            },\r\n            async loadHardCodeArray() {\r\n                this.hardCodeItem = {\r\n\r\n                    'Rest|Nap': \"Nap.png\",\r\n                    'Rest|Sleep': 'Sleep.png',\r\n\r\n                    'Feed|Bottle-Type|Formula': 'Formula.png',\r\n                    'Feed|Bottle-Type|Breast Milk': 'Breast Milk.png',\r\n                    'Feed|Solid': 'Solid.png',\r\n                    'Feed|Latch On|Left': 'Left.png',\r\n                    'Feed|Latch On|Right': 'Right.png',\r\n                    'Feed|Menu': 'Menu.png',\r\n\r\n                    'Poop|Texture|Creamy': 'Creamy.png',\r\n                    'Poop|Texture|Firm': 'Firm.png',\r\n                    'Poop|Texture|Hard': 'Hard.png',\r\n                    'Poop|Texture|Watery': 'Watery.png',\r\n                    'Poop|Color|Brown': 'Brown.png',\r\n                    'Poop|Color|Tan': 'Tan.png',\r\n                    'Poop|Color|Yellow': 'Yellow.png',\r\n                    'Poop|Color|Green': 'Green.png',\r\n                    'Poop|Color|Black': 'Black.png',\r\n\r\n                    'Hygiene|Diaper change': 'Diaper change.png',\r\n                    'Hygiene|Shower&Diaper change': 'Shower&Diaper Change.png',\r\n                    'Hygiene|Shower': 'Shower.png',\r\n                };\r\n\r\n            },\r\n            async loadHardCodeClassArray() {\r\n                this.activityClass = {\r\n\r\n                    'Rest|Nap': \"rest\",\r\n                    'Rest|Sleep': 'rest',\r\n\r\n                    'Feed|Bottle-Type|Formula': 'feed',\r\n                    'Feed|Bottle-Type|Breast Milk': 'feed',\r\n                    'Feed|Solid': 'feed',\r\n                    'Feed|Latch On|Left': 'feed',\r\n                    'Feed|Latch On|Right': 'feed',\r\n                    'Feed|Menu': 'feed',\r\n\r\n                    'Poop|Texture|Creamy': 'poop',\r\n                    'Poop|Texture|Firm': 'poop',\r\n                    'Poop|Texture|Hard': 'poop',\r\n                    'Poop|Texture|Watery': 'poop',\r\n                    'Poop|Color|Brown': 'poop',\r\n                    'Poop|Color|Tan': 'poop',\r\n                    'Poop|Color|Yellow': 'poop',\r\n                    'Poop|Color|Green': 'poop',\r\n                    'Poop|Color|Black': 'poop',\r\n\r\n                    'Hygiene|Diaper change': 'hygiene',\r\n                    'Hygiene|Shower&Diaper change': 'hygiene',\r\n                    'Hygiene|Shower': 'hygiene',\r\n                };\r\n\r\n            },\r\n            async loadStudents() {\r\n                // this.arrobj_Classes = [];\r\n                // await DataSource.shared.getAttendanceClass().then((result) => {\r\n                //     return result.Table;\r\n                // }).then((result) => {\r\n                //     for (let obj of result) {\r\n                //         DataSource.shared.getAllActiveStudentsByClass(obj.PK_Class_ID).then((result) => {\r\n                //             obj.arrobj_Student = result.Table;\r\n                //             this.arrobj_Classes.push(obj);\r\n                //         });\r\n                //     }\r\n                // });\r\n\r\n                try {\r\n                    this.$vs.loading();\r\n                    this.arrobj_Classes = [];\r\n                    const response = await DataSource.shared.getAttendanceClass();\r\n                    if (response) {\r\n                        this.$vs.loading.close();\r\n                        let tempClasses = response.Table;\r\n                        let tempStudent = [];\r\n                        for (let obj of tempClasses) {\r\n                            const studentResponse = await DataSource.shared.getAllActiveStudentsByClass(obj.PK_Class_ID);\r\n                            if (studentResponse) {\r\n                                obj.arrobj_Student = studentResponse.Table;\r\n                                await tempStudent.push(obj);\r\n                                // this.arrobj_Classes = tempStudent;\r\n                            }\r\n                        }\r\n                        this.arrobj_Classes = tempStudent;\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n\r\n            },\r\n            checkAll() {\r\n                try {\r\n                    if (this.selectall === false) {\r\n\r\n                        this.DailyRoutineList.forEach(m => {\r\n                            m.checked = true;\r\n                        });\r\n                        //\r\n                        // console.log(\"aa\");\r\n                        // this.$refs.chkitems.forEach(m => {\r\n                        //     m.checked = true;\r\n                        //     m.check = true;\r\n                        // });\r\n                        // this.selectItem = true;\r\n                        // console.log(this.selectItem);\r\n                    } else {\r\n\r\n                        this.DailyRoutineList.forEach(m => {\r\n                            m.checked = false;\r\n                        });\r\n\r\n                        //\r\n                        //\r\n                        // console.log(\"bbs\");\r\n                        // this.selectItem = false;\r\n                        // this.$refs.chkitems.forEach(m => {\r\n                        //     m.checked = false;\r\n                        // });\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            Load(Student_ID) {\r\n                try {\r\n                    const response = DataSource.shared.getDailyRoutineByStudentID(Student_ID.Student_ID);\r\n                    this.StudentHeader = Student_ID.First_Name;\r\n                    this.obj_Student = Student_ID;\r\n                    response.then((response) => {\r\n                        this.DailyRoutineList = (response.Table) ? response.Table : [];\r\n                        if (response.code === '2') {\r\n                            console.log(\"noach\");\r\n                            this.noActivity = true;\r\n                        }\r\n                    });\r\n\r\n                    if (this.$refs.isCheckAll.checked === true) {\r\n                        this.$refs.isCheckAll.checked = false;\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            TaskDescription() {\r\n                this.selectionRest = false;\r\n                this.selectionFeed = false;\r\n                this.selectionPoop = false;\r\n                this.selectionHygiene = false;\r\n                this.selectionStartEndTime = false;\r\n                this.selectionCurrentTime = false;\r\n                this.selectionRemark = false;\r\n                console.log(this.ddlTaskDescription);\r\n                if (this.ddlTaskDescription === 'Rest') {\r\n                    this.selectionRest = true;\r\n                    this.selectionStartEndTime = true;\r\n                    this.selectionRemark = true;\r\n                } else if (this.ddlTaskDescription === 'Feed') {\r\n                    this.selectionCurrentTime = true;\r\n                    this.selectionFeed = true;\r\n                    this.selectionFeedBottleType = false;\r\n                    this.selectionLatchOn = false;\r\n\r\n                    if (this.ddlFeed === \"Bottle-Type\") {\r\n                        this.selectionFeedBottleType = true;\r\n                    } else if (this.ddlFeed === \"Latch On\") {\r\n                        this.selectionLatchOn = true;\r\n                    }\r\n                    this.selectionRemark = true;\r\n                } else if (this.ddlTaskDescription === 'Poop') {\r\n                    this.selectionPoop = true;\r\n                    this.selectionTexture = false;\r\n                    this.selectionColor = false;\r\n\r\n                    if (this.ddlPoop === \"Texture\") {\r\n                        this.selectionTexture = true;\r\n                    } else if (this.ddlPoop === \"Color\") {\r\n                        this.selectionColor = true;\r\n                    }\r\n                    this.selectionRemark = true;\r\n                } else if (this.ddlTaskDescription === 'Hygiene') {\r\n                    this.selectionHygiene = true;\r\n                    this.selectionCurrentTime = true;\r\n                    this.selectionRemark = true;\r\n                }\r\n            },\r\n            btnAdd() {\r\n                try {\r\n                    let drReferenceType = '';\r\n\r\n                    if (Object.keys(this.obj_Student).length !== 0) {\r\n\r\n                        if (this.selectionRest === true) {\r\n                            if (this.ddlRest === \"Nap\") {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlRest;\r\n\r\n                            } else if (this.ddlRest === \"Sleep\") {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlRest;\r\n                            }\r\n                        } else if (this.selectionFeed == true) {\r\n                            if (this.selectionFeedBottleType == true) {\r\n                                if (this.ddlFeedBottleType === \"Formula\") {\r\n                                    drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlFeedBottleType;\r\n                                } else if (this.ddlFeedBottleType === \"Breast Milk\") {\r\n                                    drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlFeedBottleType;\r\n                                }\r\n                            } else if (this.ddlFeed === \"Solid\") {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed;\r\n                            } else if (this.selectionLatchOn == true) {\r\n                                if (this.ddlLatchOn === \"Left\") {\r\n                                    drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlLatchOn;\r\n                                } else if (this.ddlLatchOn === \"Right\") {\r\n                                    drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed + \"|\" + this.ddlLatchOn;\r\n                                }\r\n\r\n                            } else if (this.ddlFeed === \"Menu\") {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlFeed;\r\n                            }\r\n\r\n                        } else if (this.selectionPoop == true) {\r\n                            if (this.selectionTexture == true) {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlPoop + \"|\" + this.ddlTexture;\r\n                            } else if (this.selectionColor == true) {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlPoop + \"|\" + this.ddlColor;\r\n                            }\r\n\r\n                        } else if (this.selectionHygiene == true) {\r\n                            if (this.ddlHygiene === \"Diaper change\") {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlHygiene;\r\n                            } else if (this.ddlHygiene === \"Shower&Diaper change\") {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlHygiene;\r\n                            } else if (this.ddlHygiene === \"Shower\") {\r\n                                drReferenceType = this.ddlTaskDescription + \"|\" + this.ddlHygiene;\r\n                            }\r\n\r\n                        }\r\n\r\n                        let btnAddObject = [];\r\n                        btnAddObject.DrStartTime = this.txtTimeStart;\r\n                        btnAddObject.DrEndTime = this.txtTimeStop;\r\n                        btnAddObject.DrRemark = this.txtRemark;\r\n                        btnAddObject.studentID = this.obj_Student.Student_ID;\r\n                        btnAddObject.DrReferenceType = drReferenceType;\r\n\r\n                        // console.log(btnAddObject.DrEndTime);\r\n                        // if (this.txtTimeStop === null || this.txtTimeStart === null || this.txtTimeStop === \"\" || this.txtTimeStart === \"\"){\r\n                        //     this.$notify.error({\r\n                        //         title: 'Error',\r\n                        //         message: 'Please fill in content'\r\n                        //     });\r\n                        // }else{\r\n\r\n\r\n                        if (this.selectionRest === true && this.txtTimeStop === \"\") {\r\n                            this.$notify.error({\r\n                                title: 'Error',\r\n                                message: 'Please fill in content'\r\n                            });\r\n                        } else if (this.selectionRest === true && this.txtTimeStart === \"\") {\r\n                            this.$notify.error({\r\n                                title: 'Error',\r\n                                message: 'Please fill in content'\r\n                            });\r\n                        } else if (this.selectionFeed === true && this.txtTimeStart === \"\") {\r\n                                this.$notify.error({\r\n                                    title: 'Error',\r\n                                    message: 'Please fill in content'\r\n                                });\r\n                        } else if (this.selectionHygiene === true && this.txtTimeStart === \"\") {\r\n                            this.$notify.error({\r\n                                title: 'Error',\r\n                                message: 'Please fill in content'\r\n                            });\r\n                        }else  {\r\n                            console.log(\"33\");\r\n                            const resp = DataSource.shared.addDailyRoutine(btnAddObject);\r\n                            resp.then((resp) => {\r\n\r\n                                let tempStudent = this.obj_Student;\r\n                                let tempClass = this.arrobj_Classes;\r\n                                Object.assign(this.$data, this.$options.data.call(this));\r\n\r\n                                this.arrobj_Classes = tempClass;\r\n                                this.loadHardCodeArray();\r\n\r\n                                this.obj_Student = tempStudent;\r\n                                this.Load(this.obj_Student);\r\n                                console.log(this.obj_Student.Student_ID);\r\n\r\n                                if (resp.code === '1') {\r\n                                    this.$notify({\r\n                                        title: 'Success',\r\n                                        message: 'Task added.',\r\n                                        type: 'success'\r\n                                    });\r\n                                    // alert('Task added.');\r\n\r\n                                } else {\r\n                                    this.$notify.error({\r\n                                        title: 'Error',\r\n                                        message: 'Error'\r\n                                    });\r\n                                    // alert('Error.');\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                    } else {\r\n                        this.$notify.error({\r\n                            title: 'Error',\r\n                            message: 'Please select student.'\r\n                        });\r\n                        // alert(\"Please select student.\");\r\n                    }\r\n\r\n                } catch (e) {\r\n                    alert(e);\r\n                    console.log(e);\r\n                }\r\n            },\r\n            btnDelete() {\r\n                try {\r\n                    let Count = 0;\r\n                    let btnDelObject = [];\r\n                    this.DailyRoutineList.forEach((m, index) => {\r\n                        if (m.checked === true) {\r\n                            console.log(\"go\");\r\n                            Count++;\r\n                            btnDelObject.DrStudentID = m.DrStudentID;\r\n                            btnDelObject.drID = m.DrID;\r\n                            DataSource.shared.deleteDailyRoutine(btnDelObject);\r\n                            console.log(\"deleted\");\r\n                            this.selectall = false;\r\n                            this.$notify({\r\n                                title: 'Success',\r\n                                message: 'Activity Deleted',\r\n                                type: 'success'\r\n                            });\r\n                        }\r\n                    });\r\n                    // this.$refs.dailyRoutineList_Update.forEach((m, index) => {\r\n                    //     if (this.$refs.chkitems[index].checked === true) {\r\n                    //         Count++;\r\n                    //         btnDelObject.DrStudentID = this.DailyRoutineList[index].DrStudentID;\r\n                    //         btnDelObject.drID = this.DailyRoutineList[index].DrID;\r\n                    //         DataSource.shared.deleteDailyRoutine(btnDelObject);\r\n                    //     }\r\n                    // });\r\n                    if (Count < 1) {\r\n                        this.$notify.error({\r\n                            title: 'Error',\r\n                            message: 'Nothing selected!'\r\n                        });\r\n                        // alert(\"Nothing selected!\");\r\n                    }\r\n                    this.Load(this.obj_Student);\r\n\r\n                } catch (exception) {\r\n                    alert(exception);\r\n                }\r\n            },\r\n            btnUpdate() {\r\n                try {\r\n                    //if no checkbox is checked, pop up alert\r\n                    let Count = 0;\r\n                    let btnUpdateObject = [];\r\n                    console.log(this.DailyRoutineList);\r\n                    this.DailyRoutineList.forEach((m, index) => {\r\n\r\n                        if (m.checked === true) {\r\n                            Count++;\r\n                            btnUpdateObject.DrStudentID = m.DrStudentID;\r\n                            btnUpdateObject.drID = m.DrID;\r\n                            btnUpdateObject.drRemark = m.DrRemark;\r\n                            DataSource.shared.updateDailyRoutine(btnUpdateObject);\r\n                            this.selectall = false;\r\n                        }\r\n\r\n                    });\r\n                    // ;this.$refs.dailyRoutineList_Update.forEach((m, index) => {\r\n                    //\r\n                    //     if (this.$refs.chkitems[index].checked === true) {\r\n                    //         Count++;\r\n                    //         btnUpdateObject.DrStudentID = this.DailyRoutineList[index].DrStudentID;\r\n                    //         btnUpdateObject.drID = this.DailyRoutineList[index].DrID;\r\n                    //         btnUpdateObject.drRemark = this.$refs.refDrRemark[index].value;\r\n                    //         DataSource.shared.updateDailyRoutine(btnUpdateObject);\r\n                    //     }\r\n                    //\r\n                    // });\r\n                    if (Count < 1) {\r\n                        this.$notify.error({\r\n                            title: 'Error',\r\n                            message: 'Nothing selected!'\r\n                        });\r\n                        // alert(\"Nothing selected!\");\r\n                    } else {\r\n                        this.$notify({\r\n                            title: 'Success',\r\n                            message: 'Task Updated.',\r\n                            type: 'success'\r\n                        });\r\n                        // alert(\"Task Updated.\");\r\n                    }\r\n                    this.Load(this.obj_Student);\r\n                } catch (exception) {\r\n                    alert(exception);\r\n                }\r\n            },\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .DrTable {\r\n        width: 80%;\r\n        margin-top: 20px;\r\n    }\r\n\r\n    .DrTable td, .DrTable th, .DrTable label {\r\n        text-align: left;\r\n        padding: 10px;\r\n    }\r\n\r\n    .DrTable tr:nth-child(even) {\r\n        background: #fff;\r\n    }\r\n\r\n    input[type='checkbox'] {\r\n        width: 30px;\r\n        height: 30px;\r\n        background: white;\r\n        border-radius: 5px;\r\n        border: 2px solid #555;\r\n    }\r\n\r\n    .checkbox_wrapper {\r\n        min-width: 100%;\r\n    }\r\n\r\n    .lblCheckBox {\r\n        width: 100%;\r\n    }\r\n</style>"]}]}