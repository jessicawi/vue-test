{"remainingRequest":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\MyChild.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\MyChild.vue","mtime":1557245814598},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558432313812},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1553612671158},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558432313812},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1553612666995}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DataSource from \"../data/datasource\";\nimport {required, requiredIf, requiredUnless} from \"vuelidate/lib/validators\";\nimport ProfileImg from \"../assets/boy.png\";\nconst API_HOST = process.env.VUE_APP_ROOT_API;\nexport default {\n        name:'MyChild',\n    async created(){\n        if (this.$route.params.studentID === '' || this.$route.params.studentID === null || this.$route.params.studentID === undefined){\n            window.location.replace('/MyAccount');\n        }\n    },\n    async mounted(){\n            this.LoadStudentInfo();\n            this.BindCountryList();\n            this.BindStudentDropdown();\n    },\n    data(){\n            return{\n                studentID:'',\n                imgStudentProfile: '',\n                inputStudentFirstName: '',\n                countryList: [],\n                ddlStudentReligionList: [],\n                ddlStudentAdditionalLanguageList: [],\n                ddlStudentMealPreferencesList: [],\n                ddlStudentMembershipList: [],\n                ddlStudentResidencyStatusList: [],\n                ddlStudentPayerList: [],\n                ddlFatherIdentificationTypeList: [],\n                ddlMotherIdentificationTypeList: [],\n                ddlParentModeList: [],\n                levelList: [],\n                academicYearList: [],\n                studentIntakeYearList: [],\n                ddlChangeStatusToList: [],\n                levelList_Level: [],\n                academicYearList_Level: [],\n                studentIntakeYearList_Level: [],\n\n                arrayStudentIDLevelComponent:[],\n                strClassIDLevelComponent: '',\n\n                inputStudentDateOfBirth: '',\n                inputFatherDateofBirth: '',\n                inputStudentIdentificationExpiryDate: '',\n                inputFirstCommencementDate: '',\n                inputFatherIdentificationNoExpiryDate: '',\n                inputMotherDateofBirth: '',\n                inputMotherIdentificationNoExpiryDate: '',\n                ddlStudentGender: '',\n                inputStudentMiddleName: '',\n                inputStudentLastName: '',\n                inputStudentPreferredName: '',\n                ddlStudentNationality: '',\n                ddlStudentBirthPlace: '',\n                inputStudentIdentificationNo: '',\n                inputStudent1stEmergencyContactNo: '',\n                inputStudent2ndEmergencyContactNo: '',\n                inputStudentFirstLanguageSpoken: '',\n                inputSecondLanguageSpoken: '',\n                ddlStudentSelectLevel: '',\n                ddlStudentFirstAcademicYear: '',\n                inputStudentID: '',\n                ddlStudentIntakeYear: '',\n                inputStudentAddress1: '',\n                inputStudentAddress2: '',\n                inputStudentAddress3: '',\n                inputStudentCity: '',\n                inputStudentPostalCode: '',\n                inputStudentCorrespondanceAddress1: '',\n                inputStudentCorrespondanceAddress2: '',\n                inputStudentCorrespondanceAddress3: '',\n                inputStudentCorrespondanceCity: '',\n                ddlStudentAddressCorrespondanceCountry: '',\n                inputStudentCorrespondancePostalCode: '',\n                inputStudentMobileNo: '',\n                inputStudentOfficeTelNo: '',\n                inputStudentEmail: '',\n                taMajorAilmentsList: '',\n                taMedicationAllergiesList: '',\n                inputBloodGroup: '',\n                inputBloodDonorNo: '',\n                inputNameofFamilyDoctor: '',\n                inputClinicAddress: '',\n                inputClinicPhoneNo: '',\n                inputFamilyID: '',\n                inputFamilyParentID: '',\n                inputFatherFirstName: '',\n                inputFatherMiddleName: '',\n                inputFatherLastName: '',\n                inputFatherOccupation: '',\n                inputFatherIdentificationNo: '',\n                inputFatherMobileNo: '',\n                inputFatherEmail: '',\n                inputMotherFirstName: '',\n                inputMotherMiddleName: '',\n                inputMotherLastName: '',\n                inputMotherOccupation: '',\n                inputMotherIdentificationNo: '',\n                inputMotherMobileNo: '',\n                inputMotherEmail: '',\n                inputParentAddress1: '',\n                inputParentAddress2: '',\n                inputParentAddress3: '',\n                inputParentCity: '',\n                inputParentLandlineNo: '',\n                ddlParentCountry: '',\n                inputParentPostalCode: '',\n                ddlStudentAddressCountry: '',\n                ddlStudentReligion: '',\n                ddlStudentAdditionalLanguage: '',\n                ddlStudentMealPreferences: '',\n                ddlStudentMembership: '',\n                ddlStudentResidencyStatus: '',\n                ddlStudentPayer: '',\n                ddlFatherIdentificationType: '',\n                ddlMotherIdentificationType: '',\n                ddlParentMode: '',\n                inputStudentBirthCertificate: '',\n                inputStudentIC: '',\n                inputStudentPassport: '',\n                inputStudentPassportExpiryDate: '',\n                inputStudentOtherIdentification: '',\n                ddlChangeStatusTo: '',\n                selectedFile: null,\n                ddlStudentSelectLevel_Level: '',\n                ddlStudentFirstAcademicYear_Level: '',\n                ddlStudentIntakeYear_Level: '',\n                ddlCopyAddToResBil: '',\n                ddlCopyAddToStuCorAdd: '',\n\n                editModeDisable: '',\n                lblCreateOrEdit: '',\n                lblStudentID: '',\n                lblParentID: '',\n                lblMotherNameDuplicated: '',\n                lblFatherNameDuplicated: '',\n                parentAreaDiv: '',\n                lblStudentIndexNo: '',\n                lblCurrentStatus: '',\n                finShowHide: '',\n                birthcertShowHide: '',\n                icShowHide: '',\n                stuCorAddCopy: '',\n                resBilAddCopy: '',\n\n                siblingTab: '',\n                changeStatusAction: '',\n                levelTab: '',\n\n                //student medical allergies list\n                medicationAllergiesListInt: [],\n                medicationAllergiesList: [{\n                    prop: \"StAllItem\",\n                    label: \"Medication\"\n                }, {\n                    prop: \"StAllRemarks\",\n                    label: \"Remarks\"\n                }],\n                medicationAllergiesListAcion: {\n                    label: 'Delete',\n                    props: {\n                        align: 'center',\n                    },\n                    buttons: [{\n                        props: {\n                            type: 'primary',\n                            icon: 'el-icon-edit'\n                        },\n                        handler: row => {\n                            this.medicationAllergiesListInt.splice(this.medicationAllergiesListInt.indexOf(row), 1)\n                        },\n                        label: 'Delete'\n                    }]\n                },\n\n                foodAllergiesListInt: [],\n                foodAllergiesList: [{\n                    prop: \"StAllItem\",\n                    label: \"Food\"\n                }, {\n                    prop: \"StAllRemarks\",\n                    label: \"Remarks\"\n                }],\n                foodAllergiesListAcion: {\n                    label: 'Delete',\n                    props: {\n                        align: 'center',\n                    },\n                    buttons: [{\n                        props: {\n                            type: 'primary',\n                            icon: 'el-icon-edit'\n                        },\n                        handler: row => {\n                            this.foodAllergiesListInt.splice(this.foodAllergiesListInt.indexOf(row), 1)\n                        },\n                        label: 'Delete'\n                    }]\n                },\n                ddlddlStudentFoodAllergiesFoodList: [],\n                ddlStudentFoodAllergiesFood: '',\n                inputStudentFoodAllergiesRemarks: '',\n                inputStudentMedicationAllergiesMedication: '',\n                inputStudentMedicationAllergiesRemarks: '',\n            };\n    },\n    methods:{\n        backPrevious(){\n                this.$router.go(-1);\n            },\n        async uploadStudentProfileImg() {\n            try {\n                this.$refs.file.click();\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        previewImgStudentProfile: function (event) {\n            try {\n                var input = event.target;\n                if (input.files && input.files[0]) {\n                    var reader = new FileReader();\n                    reader.onload = (e) => {\n                        this.imgStudentProfile = e.target.result;\n                    };\n                    reader.readAsDataURL(input.files[0]);\n                    this.selectedFile = event.target.files;\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async LoadStudentInfo(){\n            try{\n                let studentID ='';\n                studentID = this.$route.params.studentID;\n                this.studentID = studentID;\n                const responce = await DataSource.shared.getStudentParentView(this.$route.params.studentID);\n                if(responce){\n                    if(responce.code==='88'){\n                        this.$notify.error({\n                            title: 'Error',\n                            message: 'Error'\n                        });\n                    }else{\n                        this.BindStudentFields(responce.Table);\n                    }\n                }\n                const stuProPic = await DataSource.shared.getStudentProfilePicture(this.$route.params.studentID);\n                if (stuProPic) {\n                    if (stuProPic.code === '88') {\n                        window.location.replace('/');\n                    } else {\n                        if (stuProPic.code !== \"2\" && stuProPic.code !== \"99\") {\n                            this.stuProPicLoop = stuProPic.Table;\n                            this.stuProPicLoop.forEach(m => {\n                                this.imgStudentProfile = API_HOST + '/db/Files/' + m.SF_File_Name;\n                            });\n                        }\n                    }\n                }\n                const alleRes = await DataSource.shared.getStudentAllergies(this.$route.params.studentID, '');\n                if (alleRes) {\n                    if (alleRes.code === '88') {\n                        window.location.replace('/');\n                    } else if (alleRes.code === '99') {\n                        console.log('get getStudentAllergies Error');\n                    } else if (alleRes.code === '2') {\n                        console.log('getStudentAllergies No Record');\n                    } else {\n                        this.alleResLoop = alleRes.Table;\n                        this.alleResLoop.forEach(m => {\n                            if (m.StAllType === 'Medical') {\n                                this.medicationAllergiesListInt.push(m);\n                            } else if (m.StAllType === 'Food') {\n                                this.foodAllergiesListInt.push(m);\n                            }\n                        });\n                    }\n                }\n            }\n            catch(e){\n                this.result = e;\n            }\n        },\n        async BindStudentFields(resultTable) {\n            try {\n                resultTable.forEach(m => {\n                    this.lblCurrentStatus = m.Status;\n                    this.lblStudentIndexNo = m.Index_No;\n                    this.inputStudentID = m.Index_No;\n                    this.inputStudentFirstName = m.Full_Name;\n                    this.inputFatherFirstName = m.PAR_Father_FirstName;\n                    this.inputMotherFirstName = m.PAR_Mother_FirstName;\n                    this.inputStudentMiddleName = m.Middle_name;\n                    this.inputStudentLastName = m.Last_name;\n                    this.ddlStudentGender = m.Sex;\n                    this.inputStudentCorrespondanceAddress1 = m.st_corr_add_flrNo;\n                    this.inputStudentCorrespondanceAddress2 = m.st_corr_add_blkNo;\n                    this.inputStudentCorrespondanceCity = m.st_corr_add_stName;\n                    this.inputStudentCorrespondancePostalCode = m.st_corr_add_pstcode;\n                    this.inputStudentPostalCode = m.st_prm_add_pstcode;\n                    this.inputStudentAddress1 = m.st_prm_add_blkNo;\n                    this.inputStudentAddress2 = m.st_prm_add_flrNo;\n                    this.inputStudentAddress3 = m.st_prm_add_BlgName;\n                    if (m.DOB_convert !== '01/01/1901') {\n                        this.inputStudentDateOfBirth = m.DOB_convert;\n                    }\n                    ;\n                    this.ddlStudentReligion = m.St_Religion;\n                    this.ddlStudentNationality = m.Nationality;\n                    if (m.Regst_date_convert !== '01/01/1901') {\n                        this.inputFirstCommencementDate = m.Regst_date_convert;\n                    }\n                    ;\n                    this.ddlStudentAddressCountry = m.st_prm_add_country;\n                    this.inputStudentMobileNo = m.Handphone;\n                    this.inputStudentCorrespondanceAddress3 = m.st_corr_add_BlgName;\n                    this.ddlStudentResidencyStatus = m.student_type;\n                    this.ddlStudentPayer = m.sponsor_type;\n                    this.inputStudentIdentificationNo = m.ID_Number;\n                    this.inputStudentCity = m.st_prm_add_stName;\n                    this.ddlStudentAddressCorrespondanceCountry = m.st_corr_add_country;\n                    this.inputStudent2ndEmergencyContactNo = m.Fax;\n                    this.inputStudentEmail = m.email;\n                    this.inputStudent1stEmergencyContactNo = m.Telephone;\n                    this.inputStudentOfficeTelNo = m.Offphone;\n                    //this.ddlStudentSelectLevel = m.Course_Type;\n                    this.inputNameofFamilyDoctor = m.Family_Doctor;\n                    this.taMajorAilmentsList = m.Ailments;\n                    this.taMedicationAllergiesList = m.medication_allergic_to;\n                    this.inputBloodGroup = m.BLD_grp;\n                    this.inputBloodDonorNo = m.BLD_donor_no;\n                    this.inputClinicAddress = m.clinic_add;\n                    this.inputClinicPhoneNo = m.clinic_ph_no;\n                    //this.ddlStudentFirstAcademicYear = m.Semester;\n                    this.inputStudentPreferredName = m.St_Preferred_Name;\n                    this.ddlStudentAdditionalLanguage = m.St_Mother_Tongue;\n                    this.ddlStudentMealPreferences = m.St_Meal_Preferences;\n                    this.ddlStudentBirthPlace = m.St_Birth_Place;\n                    this.inputStudentFirstLanguageSpoken = m.St_AdditionalLanguage;\n                    this.inputSecondLanguageSpoken = m.St_SecondLanguageSpoken;\n                    this.ddlStudentMembership = m.ST_StudentMemership;\n                    if (m.ID_ExpDate_convert !== '01/01/1901') {\n                        this.inputStudentIdentificationExpiryDate = m.ID_ExpDate_convert;\n                    }\n                    ;\n                    this.inputStudentBirthCertificate = m.St_BirthCer_Number;\n                    this.inputStudentIC = m.St_IC_ID_Number;\n                    this.inputStudentPassport = m.St_Passport_Number;\n                    if (m.St_Passport_ExpDate_convert !== '01/01/1901') {\n                        this.inputStudentPassportExpiryDate = m.St_Passport_ExpDate_convert;\n                    }\n                    ;\n                    this.inputStudentOtherIdentification = m.St_Identification_Others;\n                });\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindCountryList() {\n            try {\n                const response = await DataSource.shared.getCountryList();\n                if (response) {\n                    if (response.code === '88') {\n                        window.location.replace('/');\n                    }\n                    else {\n                        this.countryListResponse = response.Table;\n                        this.countryListResponse.forEach(m => {\n                            this.countryList.push(m);\n                        });\n                    }\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async BindStudentDropdown() {\n            try {\n                let jsonString = '\"Religion\":\"Religion\"';\n                jsonString = jsonString + ',\"Mother Tongue\":\"Mother Tongue\"';\n                jsonString = jsonString + ',\"Meal Preferences\":\"Meal Preferences\"';\n                jsonString = jsonString + ',\"Student Membership\":\"Student Membership\"';\n                jsonString = jsonString + ',\"Residency Status\":\"Residency Status\"';\n                jsonString = jsonString + ',\"Sponsorship Type\":\"Sponsorship Type\"';\n                jsonString = jsonString + ',\"ParentID\":\"ParentID\"';\n                jsonString = jsonString + ',\"Food Allergies\":\"Food Allergies\"';\n                jsonString = jsonString + ',\"Parent Mode\":\"Parent Mode\"';\n                jsonString = \"{\" + jsonString + \"}\";\n\n                const response = await DataSource.shared.getStudentDropDownList(jsonString);\n                if (response) {\n                    if (response.code === '88') {\n                        window.location.replace('/');\n                    }\n                    else {\n                        this.studentDropDownListResponse = response.Table;\n                        this.studentDropDownListResponse.forEach(m => {\n                            if (m.OGPname.trim() === 'Religion') {\n                                this.ddlStudentReligionList.push(m);\n                            } else if (m.OGPname.trim() === 'Mother Tongue') {\n                                this.ddlStudentAdditionalLanguageList.push(m);\n                            } else if (m.OGPname.trim() === 'Meal Preferences') {\n                                this.ddlStudentMealPreferencesList.push(m);\n                            } else if (m.OGPname.trim() === 'Student Membership') {\n                                this.ddlStudentMembershipList.push(m);\n                            } else if (m.OGPname.trim() === 'Residency Status') {\n                                this.ddlStudentResidencyStatusList.push(m);\n                            } else if (m.OGPname.trim() === 'Sponsorship Type') {\n                                this.ddlStudentPayerList.push(m);\n                            } else if (m.OGPname.trim() === 'ParentID') {\n                                this.ddlFatherIdentificationTypeList.push(m);\n                                this.ddlMotherIdentificationTypeList.push(m);\n                            } else if (m.OGPname.trim() === 'Food Allergies') {\n                                this.ddlddlStudentFoodAllergiesFoodList.push(m);\n                            } else if (m.OGPname.trim() === 'Parent Mode') {\n                                this.ddlParentModeList.push(m);\n                            }\n                        });\n                    }\n                }\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async Validation() {\n            try {\n                this.$v.$touch();\n                if (this.$v.$error) {\n                    this.$notify.error({\n                        title: 'Error',\n                        message: 'Please fill in all * fields & at least one of ** field'\n                    });\n                    return;\n                }\n                this.Save();\n            } catch (e) {\n                this.results = e;\n            }\n        },\n        async Update() {\n            try{\n                //students\n                let jsonString = '\"Full_Name\":\"' + this.inputStudentFirstName + '\"';\n                jsonString = jsonString + ',\"Middle_name\":\"' + this.inputStudentMiddleName + '\"';\n                jsonString = jsonString + ',\"Last_name\":\"' + this.inputStudentLastName + '\"';\n                jsonString = jsonString + ',\"Sex\":\"' + this.ddlStudentGender + '\"';\n                jsonString = jsonString + ',\"st_corr_add_flrNo\":\"' + this.inputStudentCorrespondanceAddress1 + '\"';\n                jsonString = jsonString + ',\"st_corr_add_blkNo\":\"' + this.inputStudentCorrespondanceAddress2 + '\"';\n                jsonString = jsonString + ',\"st_corr_add_stName\":\"' + this.inputStudentCorrespondanceCity + '\"';\n                jsonString = jsonString + ',\"st_corr_add_pstcode\":\"' + this.inputStudentCorrespondancePostalCode + '\"';\n                jsonString = jsonString + ',\"st_prm_add_pstcode\":\"' + this.inputStudentPostalCode + '\"';\n                jsonString = jsonString + ',\"st_prm_add_blkNo\":\"' + this.inputStudentAddress1 + '\"';\n                jsonString = jsonString + ',\"st_prm_add_flrNo\":\"' + this.inputStudentAddress2 + '\"';\n                jsonString = jsonString + ',\"st_prm_add_BlgName\":\"' + this.inputStudentAddress3 + '\"';\n                jsonString = jsonString + ',\"DOB\":\"' + this.inputStudentDateOfBirth + '\"';\n                jsonString = jsonString + ',\"St_Religion\":\"' + this.ddlStudentReligion + '\"';\n                jsonString = jsonString + ',\"Nationality\":\"' + this.ddlStudentNationality + '\"';\n                jsonString = jsonString + ',\"Regst_date\":\"' + this.inputFirstCommencementDate + '\"';\n                jsonString = jsonString + ',\"st_prm_add_country\":\"' + this.ddlStudentAddressCountry + '\"';\n                jsonString = jsonString + ',\"Handphone\":\"' + this.inputStudentMobileNo + '\"';\n                jsonString = jsonString + ',\"st_corr_add_BlgName\":\"' + this.inputStudentCorrespondanceAddress3 + '\"';\n                jsonString = jsonString + ',\"student_type\":\"' + this.ddlStudentResidencyStatus + '\"';\n                jsonString = jsonString + ',\"sponsor_type\":\"' + this.ddlStudentPayer + '\"';\n                jsonString = jsonString + ',\"ID_Number\":\"' + this.inputStudentIdentificationNo + '\"';\n                jsonString = jsonString + ',\"st_prm_add_stName\":\"' + this.inputStudentCity + '\"';\n                jsonString = jsonString + ',\"st_corr_add_country\":\"' + this.ddlStudentAddressCorrespondanceCountry + '\"';\n                jsonString = jsonString + ',\"Fax\":\"' + this.inputStudent2ndEmergencyContactNo + '\"';\n                jsonString = jsonString + ',\"email\":\"' + this.inputStudentEmail + '\"';\n                jsonString = jsonString + ',\"Telephone\":\"' + this.inputStudent1stEmergencyContactNo + '\"';\n                jsonString = jsonString + ',\"Offphone\":\"' + this.inputStudentOfficeTelNo + '\"';\n                jsonString = jsonString + ',\"Family_Doctor\":\"' + this.inputNameofFamilyDoctor + '\"';\n                jsonString = jsonString + ',\"Ailments\":\"' + this.taMajorAilmentsList + '\"';\n                jsonString = jsonString + ',\"medication_allergic_to\":\"' + this.taMedicationAllergiesList + '\"';\n                jsonString = jsonString + ',\"BLD_grp\":\"' + this.inputBloodGroup + '\"';\n                jsonString = jsonString + ',\"BLD_donor_no\":\"' + this.inputBloodDonorNo + '\"';\n                jsonString = jsonString + ',\"clinic_add\":\"' + this.inputClinicAddress + '\"';\n                jsonString = jsonString + ',\"clinic_ph_no\":\"' + this.inputClinicPhoneNo + '\"';\n                jsonString = jsonString + ',\"St_Preferred_Name\":\"' + this.inputStudentPreferredName + '\"';\n                jsonString = jsonString + ',\"St_Mother_Tongue\":\"' + this.ddlStudentAdditionalLanguage + '\"';\n                jsonString = jsonString + ',\"St_Meal_Preferences\":\"' + this.ddlStudentMealPreferences + '\"';\n                jsonString = jsonString + ',\"St_Birth_Place\":\"' + this.ddlStudentBirthPlace + '\"';\n                jsonString = jsonString + ',\"St_AdditionalLanguage\":\"' + this.inputStudentFirstLanguageSpoken + '\"';\n                jsonString = jsonString + ',\"St_SecondLanguageSpoken\":\"' + this.inputSecondLanguageSpoken + '\"';\n                jsonString = jsonString + ',\"ST_StudentMemership\":\"' + this.ddlStudentMembership + '\"';\n                jsonString = jsonString + ',\"ID_ExpDate\":\"' + this.inputStudentIdentificationExpiryDate + '\"';\n                jsonString = jsonString + ',\"St_BirthCer_Number\":\"' + this.inputStudentBirthCertificate + '\"';\n                jsonString = jsonString + ',\"St_IC_ID_Number\":\"' + this.inputStudentIC + '\"';\n                jsonString = jsonString + ',\"St_Passport_Number\":\"' + this.inputStudentPassport + '\"';\n                jsonString = jsonString + ',\"St_Passport_ExpDate\":\"' + this.inputStudentPassportExpiryDate + '\"';\n                jsonString = jsonString + ',\"St_Identification_Others\":\"' + this.inputStudentOtherIdentification + '\"';\n                //students\n\n                jsonString = '{ ' + jsonString + ' }';\n                //allergies list combining into one whole list//\n                let allergiesList = [];\n\n                //medical\n                this.medicationAllergiesListInt.forEach(item => {\n                    let medicationAllergiesListIntDetials = {\n                        Item: item.StAllItem,\n                        Remarks: item.StAllRemarks,\n                        Type: 'Medical'\n                    };\n\n                    allergiesList.push(medicationAllergiesListIntDetials);\n                });\n\n                //food\n                this.foodAllergiesListInt.forEach(item => {\n                    let foodAllergiesListIntDetials = {\n                        Item: item.StAllItem,\n                        Remarks: item.StAllRemarks,\n                        Type: 'Food'\n                    };\n\n                    allergiesList.push(foodAllergiesListIntDetials);\n                });\n                //allergies list combining into one whole list//\n\n                const saveStuRes = await DataSource.shared.updateStudent(this.selectedFile, this.studentID, jsonString, JSON.stringify(allergiesList));\n                if (saveStuRes) {\n                    if (saveStuRes.code === '88') {\n                       // window.location.replace('/');\n                    }\n                    else if (saveStuRes.code === \"1\") {\n                        this.$notify({\n                            title: 'Success',\n                            message: 'Records Successfully Saved',\n                            type: 'success'\n                        });\n                       // window.location.replace('/MyAccount');\n                    } else {\n                        this.$notify.error({\n                            title: 'Error',\n                            message: 'Update Error - Please try again later'\n                        });\n                        // window.location.replace('/MyAccount');\n                    }\n                }\n            }\n            catch(e){\n\n            }\n\n        },\n        addMedicationAllergiesList () {\n            if (this.inputStudentMedicationAllergiesMedication !== '' && this.inputStudentMedicationAllergiesRemarks !== '') {\n                let addNewRowList = {\n                    StAllItem: this.inputStudentMedicationAllergiesMedication,\n                    StAllRemarks: this.inputStudentMedicationAllergiesRemarks,\n                };\n\n                this.medicationAllergiesListInt.push(addNewRowList);\n\n                this.inputStudentMedicationAllergiesMedication = '';\n                this.inputStudentMedicationAllergiesRemarks = '';\n            } else {\n                alert('Please fill Medication and Remarks');\n            }\n        },\n        addFoodAllergiesList () {\n            if (this.ddlStudentFoodAllergiesFood !== '' && this.inputStudentFoodAllergiesRemarks !== '') {\n                let addNewRowList = {\n                    StAllItem: this.ddlStudentFoodAllergiesFood,\n                    StAllRemarks: this.inputStudentFoodAllergiesRemarks,\n                };\n\n                this.foodAllergiesListInt.push(addNewRowList);\n\n                this.ddlStudentFoodAllergiesFood = '';\n                this.inputStudentFoodAllergiesRemarks = '';\n            } else {\n                alert('Please fill Food and Remarks');\n            }\n        },\n    }\n}\n",{"version":3,"sources":["MyChild.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyChild.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div id=\"myChild\">\r\n        <div class=\"datatable-edit__header\">\r\n            <div class=\"container\">\r\n                <h3>Child Details</h3>\r\n            </div>\r\n        </div>\r\n        <div class=\"profilePictureArea form-group\">\r\n            <div class=\" container \">\r\n                <div class=\"profile_wrap\">\r\n                    <img v-bind:src=\"imgStudentProfile\" type=\"file\" @click=\"uploadStudentProfileImg()\"\r\n                         class=\"imgStudentProfile\"/>\r\n                    <span>{{inputStudentFirstName}}</span>\r\n                    <small class=\"parent_wrap\" @click=\"backPrevious()\">Parent: {{inputFatherFirstName}} & {{inputMotherFirstName}}</small>\r\n                </div>\r\n            </div>\r\n            <input type=\"file\" ref=\"file\" accept=\"image/*\" style=\"display:none\" @change=\"previewImgStudentProfile\">\r\n        </div>\r\n\r\n        <div class=\"mt-3 container\">\r\n            <b-tabs class=\"studentPageBTabs\">\r\n                <b-tab title=\"Student\" active>\r\n                    <div class=\" form-group \">\r\n                        <div class=\"studentAreaDiv\">\r\n                            <div class=\"\">\r\n                                <h5 class=\"text-left student-form__title\">Children Information</h5>\r\n                            </div>\r\n                            <div class=\"row form-group__wrapper\">\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>First Name</label>\r\n                                    <input type=\"text\" class=\"form-control form__input\" v-model=\"inputStudentFirstName\"\r\n                                           readonly=\"readonly\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Middle Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentMiddleName\"\r\n                                           readonly=\"readonly\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Last Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentLastName\"\r\n                                           readonly=\"readonly\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Preferred Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentPreferredName\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Nationality</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"ddlStudentNationality\" readonly=\"readonly\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Gender</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"ddlStudentGender\"\r\n                                           readonly=\"readonly\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Date of Birth</label>\r\n                                    <div class=\"date\">\r\n                                        <input type=\"text\" class=\"form-control\" v-model=\"inputStudentDateOfBirth\"\r\n                                               readonly=\"readonly\">\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Birth Place</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"ddlStudentBirthPlace\"\r\n                                           readonly=\"readonly\">\r\n                                </div>\r\n\r\n                                <div v-if=\"finShowHide\" class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Fin</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentIdentificationNo\">\r\n                                </div>\r\n\r\n                                <div v-if=\"finShowHide\" class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Fin Expiry Date</label>\r\n                                    <div class=\"date\">\r\n                                        <el-date-picker v-model=\"inputStudentIdentificationExpiryDate\"\r\n                                                        format=\"dd/MM/yyyy\"\r\n                                                        value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div v-if=\"birthcertShowHide\" class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Birth Certificate</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentBirthCertificate\">\r\n                                </div>\r\n\r\n                                <div v-if=\"icShowHide\" class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>IC</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentIC\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Passport</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentPassport\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Passport Expiry Date</label>\r\n                                    <div class=\"date\">\r\n                                        <el-date-picker v-model=\"inputStudentPassportExpiryDate\" format=\"dd/MM/yyyy\"\r\n                                                        value-format=\"dd/MM/yyyy\" type=\"date\" placeholder=\"Pick a day\"></el-date-picker>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Other Identification</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentOtherIdentification\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Religion</label>\r\n                                    <select v-model=\"ddlStudentReligion\"\r\n                                            class=\"form-control pro-edt-select form-control-primary\">\r\n                                        <!--<option v-for=\"item in ddlStudentReligionList\" v-bind:value=\"{ id: item.OPTvalue.trim(), text: item.OPTvalue.trim() }\">{{ item.OPTvalue.trim() }}</option>-->\r\n                                        <option v-for=\"item in ddlStudentReligionList\"\r\n                                                v-bind:value=\"item.OPTvalue.trim()\">\r\n                                            {{ item.OPTvalue.trim() }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Additional Language</label>\r\n                                    <select v-model=\"ddlStudentAdditionalLanguage\"\r\n                                            class=\"form-control pro-edt-select form-control-primary\">\r\n                                        <option v-for=\"item in ddlStudentAdditionalLanguageList\"\r\n                                                v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Meal Preferences</label>\r\n                                    <select v-model=\"ddlStudentMealPreferences\"\r\n                                            class=\"form-control pro-edt-select form-control-primary\">\r\n                                        <option v-for=\"item in ddlStudentMealPreferencesList\"\r\n                                                v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>First Language Spoken</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentFirstLanguageSpoken\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Second Language Spoken</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputSecondLanguageSpoken\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Payer</label>\r\n                                    <select v-model=\"ddlStudentPayer\"\r\n                                    class=\"form-control pro-edt-select form-control-primary\">\r\n                                    <option v-for=\"item in ddlStudentPayerList\" v-bind:value=\"item.OPTvalue.trim()\">\r\n                                    {{\r\n                                    item.OPTvalue.trim() }}\r\n                                    </option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Student ID</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentID\"\r\n                                           readonly=\"readonly\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\" style=\"display:none;\">\r\n                                    <label>Membership</label>\r\n                                    <select v-model=\"ddlStudentMembership\"\r\n                                            class=\"form-control pro-edt-select form-control-primary\">\r\n                                        <option v-for=\"item in ddlStudentMembershipList\"\r\n                                                v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <!--<div class=\" form-group \">-->\r\n                                    <!--<div class=\"medAreaDiv\">-->\r\n                                        <!--<div class=\"\">-->\r\n                                            <!--<h5 class=\"text-left student-form__title\">Student's Medical Details</h5>-->\r\n                                        <!--</div>-->\r\n                                        <!--<div class=\"row form-group__wrapper\">-->\r\n                                            <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">-->\r\n                                                <!--<label>Major Ailments List</label>-->\r\n                                                <!--<textarea rows=\"3\" class=\"textArea\"-->\r\n                                                          <!--v-model=\"taMajorAilmentsList\"></textarea>-->\r\n                                            <!--</div>-->\r\n\r\n                                            <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">-->\r\n                                                <!--<label>Medication Allergies List</label>-->\r\n                                                <!--<textarea rows=\"3\" class=\"textArea\"-->\r\n                                                          <!--v-model=\"taMedicationAllergiesList\"></textarea>-->\r\n                                            <!--</div>-->\r\n\r\n                                            <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">-->\r\n                                                <!--<label>Blood Group</label>-->\r\n                                                <!--<input type=\"text\" class=\"form-control\" v-model=\"inputBloodGroup\">-->\r\n                                            <!--</div>-->\r\n\r\n                                            <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">-->\r\n                                                <!--<label>Blood Donor No</label>-->\r\n                                                <!--<input type=\"text\" class=\"form-control\" v-model=\"inputBloodDonorNo\">-->\r\n                                            <!--</div>-->\r\n\r\n                                            <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">-->\r\n                                                <!--<label>Name of Family Doctor</label>-->\r\n                                                <!--<input type=\"text\" class=\"form-control\" v-model=\"inputNameofFamilyDoctor\">-->\r\n                                            <!--</div>-->\r\n\r\n                                            <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">-->\r\n                                                <!--<label>Clinic Address</label>-->\r\n                                                <!--<input type=\"text\" class=\"form-control\" v-model=\"inputClinicAddress\">-->\r\n                                            <!--</div>-->\r\n\r\n                                            <!--<div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">-->\r\n                                                <!--<label>Clinic Phone No</label>-->\r\n                                                <!--<input type=\"text\" class=\"form-control\" v-model=\"inputClinicPhoneNo\">-->\r\n                                            <!--</div>-->\r\n                                        <!--</div>-->\r\n                                    <!--</div>-->\r\n                                <!--</div>-->\r\n\r\n                                <div class=\" form-group \">\r\n                                    <div class=\"ecAreaDiv\">\r\n                                        <div class=\"\">\r\n                                            <h5 class=\"text-left student-form__title\">Emergency Contact</h5>\r\n                                        </div>\r\n                                        <div class=\"row form-group__wrapper\">\r\n                                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                                <label>1st Emergency Contact No</label>\r\n                                                <input type=\"text\" class=\"form-control\" v-model=\"inputStudent1stEmergencyContactNo\">\r\n                                            </div>\r\n\r\n                                            <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                                <label>2nd Emergency Contact No</label>\r\n                                                <input type=\"text\" class=\"form-control\" v-model=\"inputStudent2ndEmergencyContactNo\">\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </b-tab>\r\n                <b-tab title=\"Medical\">\r\n                    <div class=\" form-group \">\r\n                        <div class=\"medAreaDiv\">\r\n                            <div class=\"\">\r\n                                <h5 class=\"text-left student-form__title\">Medication Allergies List</h5>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <div v-if=\"medicationAllergiesListInt.length>0\">\r\n                                    <data-tables :data=\"medicationAllergiesListInt\" :action-col=\"medicationAllergiesListAcion\">\r\n                                        <el-table-column v-for=\"medicationAllergiesListInfo in medicationAllergiesList\" :prop=\"medicationAllergiesListInfo.prop\"\r\n                                                         :label=\"medicationAllergiesListInfo.label\" :key=\"medicationAllergiesListInfo.prop\"\r\n                                                         sortable=\"custom\">\r\n                                        </el-table-column>\r\n                                    </data-tables>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row form-group__wrapper\">\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Medication</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentMedicationAllergiesMedication\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Remarks</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentMedicationAllergiesRemarks\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button class=\"btn btn-primary waves-effect waves-light m-r-10\" v-on:click=\"addMedicationAllergiesList()\">\r\n                                Add\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div class=\"medAreaDiv\">\r\n                            <div class=\"\">\r\n                                <h5 class=\"text-left student-form__title\">Food Allergies List</h5>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <div v-if=\"foodAllergiesListInt.length>0\">\r\n                                    <data-tables :data=\"foodAllergiesListInt\" :action-col=\"foodAllergiesListAcion\">\r\n                                        <el-table-column v-for=\"foodAllergiesListInfo in foodAllergiesList\" :prop=\"foodAllergiesListInfo.prop\"\r\n                                                         :label=\"foodAllergiesListInfo.label\" :key=\"foodAllergiesListInfo.prop\"\r\n                                                         sortable=\"custom\">\r\n                                        </el-table-column>\r\n                                    </data-tables>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row form-group__wrapper\">\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Food</label>\r\n                                    <select v-model=\"ddlStudentFoodAllergiesFood\"\r\n                                            class=\"form-control pro-edt-select form-control-primary\">\r\n                                        <option v-for=\"item in ddlddlStudentFoodAllergiesFoodList\"\r\n                                                v-bind:value=\"item.OPTvalue.trim()\">{{ item.OPTvalue.trim() }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Remarks</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputStudentFoodAllergiesRemarks\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button class=\"btn btn-primary waves-effect waves-light m-r-10\" v-on:click=\"addFoodAllergiesList()\">\r\n                                Add\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div class=\"medAreaDiv\">\r\n                            <div class=\"\">\r\n                                <h5 class=\"text-left student-form__title\">Student's Medical Details</h5>\r\n                            </div>\r\n\r\n                            <div class=\"row form-group__wrapper\">\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Major Ailments List</label>\r\n                                    <textarea rows=\"3\" class=\"textArea\"\r\n                                              v-model=\"taMajorAilmentsList\"></textarea>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Name of Family Doctor</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputNameofFamilyDoctor\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Clinic Address</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputClinicAddress\">\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\r\n                                    <label>Clinic Phone No</label>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"inputClinicPhoneNo\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </b-tab>\r\n            </b-tabs>\r\n        </div>\r\n\r\n        <div>\r\n            <button type=\"button\" v-on:click=\"Update\" class=\"btn btn-primary waves-effect waves-light m-r-10\">Update</button>\r\n        </div>\r\n        <div class=\"whitespace-30\"></div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n    import {required, requiredIf, requiredUnless} from \"vuelidate/lib/validators\";\r\n    import ProfileImg from \"../assets/boy.png\";\r\n    const API_HOST = process.env.VUE_APP_ROOT_API;\r\n    export default {\r\n            name:'MyChild',\r\n        async created(){\r\n            if (this.$route.params.studentID === '' || this.$route.params.studentID === null || this.$route.params.studentID === undefined){\r\n                window.location.replace('/MyAccount');\r\n            }\r\n        },\r\n        async mounted(){\r\n                this.LoadStudentInfo();\r\n                this.BindCountryList();\r\n                this.BindStudentDropdown();\r\n        },\r\n        data(){\r\n                return{\r\n                    studentID:'',\r\n                    imgStudentProfile: '',\r\n                    inputStudentFirstName: '',\r\n                    countryList: [],\r\n                    ddlStudentReligionList: [],\r\n                    ddlStudentAdditionalLanguageList: [],\r\n                    ddlStudentMealPreferencesList: [],\r\n                    ddlStudentMembershipList: [],\r\n                    ddlStudentResidencyStatusList: [],\r\n                    ddlStudentPayerList: [],\r\n                    ddlFatherIdentificationTypeList: [],\r\n                    ddlMotherIdentificationTypeList: [],\r\n                    ddlParentModeList: [],\r\n                    levelList: [],\r\n                    academicYearList: [],\r\n                    studentIntakeYearList: [],\r\n                    ddlChangeStatusToList: [],\r\n                    levelList_Level: [],\r\n                    academicYearList_Level: [],\r\n                    studentIntakeYearList_Level: [],\r\n\r\n                    arrayStudentIDLevelComponent:[],\r\n                    strClassIDLevelComponent: '',\r\n\r\n                    inputStudentDateOfBirth: '',\r\n                    inputFatherDateofBirth: '',\r\n                    inputStudentIdentificationExpiryDate: '',\r\n                    inputFirstCommencementDate: '',\r\n                    inputFatherIdentificationNoExpiryDate: '',\r\n                    inputMotherDateofBirth: '',\r\n                    inputMotherIdentificationNoExpiryDate: '',\r\n                    ddlStudentGender: '',\r\n                    inputStudentMiddleName: '',\r\n                    inputStudentLastName: '',\r\n                    inputStudentPreferredName: '',\r\n                    ddlStudentNationality: '',\r\n                    ddlStudentBirthPlace: '',\r\n                    inputStudentIdentificationNo: '',\r\n                    inputStudent1stEmergencyContactNo: '',\r\n                    inputStudent2ndEmergencyContactNo: '',\r\n                    inputStudentFirstLanguageSpoken: '',\r\n                    inputSecondLanguageSpoken: '',\r\n                    ddlStudentSelectLevel: '',\r\n                    ddlStudentFirstAcademicYear: '',\r\n                    inputStudentID: '',\r\n                    ddlStudentIntakeYear: '',\r\n                    inputStudentAddress1: '',\r\n                    inputStudentAddress2: '',\r\n                    inputStudentAddress3: '',\r\n                    inputStudentCity: '',\r\n                    inputStudentPostalCode: '',\r\n                    inputStudentCorrespondanceAddress1: '',\r\n                    inputStudentCorrespondanceAddress2: '',\r\n                    inputStudentCorrespondanceAddress3: '',\r\n                    inputStudentCorrespondanceCity: '',\r\n                    ddlStudentAddressCorrespondanceCountry: '',\r\n                    inputStudentCorrespondancePostalCode: '',\r\n                    inputStudentMobileNo: '',\r\n                    inputStudentOfficeTelNo: '',\r\n                    inputStudentEmail: '',\r\n                    taMajorAilmentsList: '',\r\n                    taMedicationAllergiesList: '',\r\n                    inputBloodGroup: '',\r\n                    inputBloodDonorNo: '',\r\n                    inputNameofFamilyDoctor: '',\r\n                    inputClinicAddress: '',\r\n                    inputClinicPhoneNo: '',\r\n                    inputFamilyID: '',\r\n                    inputFamilyParentID: '',\r\n                    inputFatherFirstName: '',\r\n                    inputFatherMiddleName: '',\r\n                    inputFatherLastName: '',\r\n                    inputFatherOccupation: '',\r\n                    inputFatherIdentificationNo: '',\r\n                    inputFatherMobileNo: '',\r\n                    inputFatherEmail: '',\r\n                    inputMotherFirstName: '',\r\n                    inputMotherMiddleName: '',\r\n                    inputMotherLastName: '',\r\n                    inputMotherOccupation: '',\r\n                    inputMotherIdentificationNo: '',\r\n                    inputMotherMobileNo: '',\r\n                    inputMotherEmail: '',\r\n                    inputParentAddress1: '',\r\n                    inputParentAddress2: '',\r\n                    inputParentAddress3: '',\r\n                    inputParentCity: '',\r\n                    inputParentLandlineNo: '',\r\n                    ddlParentCountry: '',\r\n                    inputParentPostalCode: '',\r\n                    ddlStudentAddressCountry: '',\r\n                    ddlStudentReligion: '',\r\n                    ddlStudentAdditionalLanguage: '',\r\n                    ddlStudentMealPreferences: '',\r\n                    ddlStudentMembership: '',\r\n                    ddlStudentResidencyStatus: '',\r\n                    ddlStudentPayer: '',\r\n                    ddlFatherIdentificationType: '',\r\n                    ddlMotherIdentificationType: '',\r\n                    ddlParentMode: '',\r\n                    inputStudentBirthCertificate: '',\r\n                    inputStudentIC: '',\r\n                    inputStudentPassport: '',\r\n                    inputStudentPassportExpiryDate: '',\r\n                    inputStudentOtherIdentification: '',\r\n                    ddlChangeStatusTo: '',\r\n                    selectedFile: null,\r\n                    ddlStudentSelectLevel_Level: '',\r\n                    ddlStudentFirstAcademicYear_Level: '',\r\n                    ddlStudentIntakeYear_Level: '',\r\n                    ddlCopyAddToResBil: '',\r\n                    ddlCopyAddToStuCorAdd: '',\r\n\r\n                    editModeDisable: '',\r\n                    lblCreateOrEdit: '',\r\n                    lblStudentID: '',\r\n                    lblParentID: '',\r\n                    lblMotherNameDuplicated: '',\r\n                    lblFatherNameDuplicated: '',\r\n                    parentAreaDiv: '',\r\n                    lblStudentIndexNo: '',\r\n                    lblCurrentStatus: '',\r\n                    finShowHide: '',\r\n                    birthcertShowHide: '',\r\n                    icShowHide: '',\r\n                    stuCorAddCopy: '',\r\n                    resBilAddCopy: '',\r\n\r\n                    siblingTab: '',\r\n                    changeStatusAction: '',\r\n                    levelTab: '',\r\n\r\n                    //student medical allergies list\r\n                    medicationAllergiesListInt: [],\r\n                    medicationAllergiesList: [{\r\n                        prop: \"StAllItem\",\r\n                        label: \"Medication\"\r\n                    }, {\r\n                        prop: \"StAllRemarks\",\r\n                        label: \"Remarks\"\r\n                    }],\r\n                    medicationAllergiesListAcion: {\r\n                        label: 'Delete',\r\n                        props: {\r\n                            align: 'center',\r\n                        },\r\n                        buttons: [{\r\n                            props: {\r\n                                type: 'primary',\r\n                                icon: 'el-icon-edit'\r\n                            },\r\n                            handler: row => {\r\n                                this.medicationAllergiesListInt.splice(this.medicationAllergiesListInt.indexOf(row), 1)\r\n                            },\r\n                            label: 'Delete'\r\n                        }]\r\n                    },\r\n\r\n                    foodAllergiesListInt: [],\r\n                    foodAllergiesList: [{\r\n                        prop: \"StAllItem\",\r\n                        label: \"Food\"\r\n                    }, {\r\n                        prop: \"StAllRemarks\",\r\n                        label: \"Remarks\"\r\n                    }],\r\n                    foodAllergiesListAcion: {\r\n                        label: 'Delete',\r\n                        props: {\r\n                            align: 'center',\r\n                        },\r\n                        buttons: [{\r\n                            props: {\r\n                                type: 'primary',\r\n                                icon: 'el-icon-edit'\r\n                            },\r\n                            handler: row => {\r\n                                this.foodAllergiesListInt.splice(this.foodAllergiesListInt.indexOf(row), 1)\r\n                            },\r\n                            label: 'Delete'\r\n                        }]\r\n                    },\r\n                    ddlddlStudentFoodAllergiesFoodList: [],\r\n                    ddlStudentFoodAllergiesFood: '',\r\n                    inputStudentFoodAllergiesRemarks: '',\r\n                    inputStudentMedicationAllergiesMedication: '',\r\n                    inputStudentMedicationAllergiesRemarks: '',\r\n                };\r\n        },\r\n        methods:{\r\n            backPrevious(){\r\n                    this.$router.go(-1);\r\n                },\r\n            async uploadStudentProfileImg() {\r\n                try {\r\n                    this.$refs.file.click();\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            previewImgStudentProfile: function (event) {\r\n                try {\r\n                    var input = event.target;\r\n                    if (input.files && input.files[0]) {\r\n                        var reader = new FileReader();\r\n                        reader.onload = (e) => {\r\n                            this.imgStudentProfile = e.target.result;\r\n                        };\r\n                        reader.readAsDataURL(input.files[0]);\r\n                        this.selectedFile = event.target.files;\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async LoadStudentInfo(){\r\n                try{\r\n                    let studentID ='';\r\n                    studentID = this.$route.params.studentID;\r\n                    this.studentID = studentID;\r\n                    const responce = await DataSource.shared.getStudentParentView(this.$route.params.studentID);\r\n                    if(responce){\r\n                        if(responce.code==='88'){\r\n                            this.$notify.error({\r\n                                title: 'Error',\r\n                                message: 'Error'\r\n                            });\r\n                        }else{\r\n                            this.BindStudentFields(responce.Table);\r\n                        }\r\n                    }\r\n                    const stuProPic = await DataSource.shared.getStudentProfilePicture(this.$route.params.studentID);\r\n                    if (stuProPic) {\r\n                        if (stuProPic.code === '88') {\r\n                            window.location.replace('/');\r\n                        } else {\r\n                            if (stuProPic.code !== \"2\" && stuProPic.code !== \"99\") {\r\n                                this.stuProPicLoop = stuProPic.Table;\r\n                                this.stuProPicLoop.forEach(m => {\r\n                                    this.imgStudentProfile = API_HOST + '/db/Files/' + m.SF_File_Name;\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                    const alleRes = await DataSource.shared.getStudentAllergies(this.$route.params.studentID, '');\r\n                    if (alleRes) {\r\n                        if (alleRes.code === '88') {\r\n                            window.location.replace('/');\r\n                        } else if (alleRes.code === '99') {\r\n                            console.log('get getStudentAllergies Error');\r\n                        } else if (alleRes.code === '2') {\r\n                            console.log('getStudentAllergies No Record');\r\n                        } else {\r\n                            this.alleResLoop = alleRes.Table;\r\n                            this.alleResLoop.forEach(m => {\r\n                                if (m.StAllType === 'Medical') {\r\n                                    this.medicationAllergiesListInt.push(m);\r\n                                } else if (m.StAllType === 'Food') {\r\n                                    this.foodAllergiesListInt.push(m);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                catch(e){\r\n                    this.result = e;\r\n                }\r\n            },\r\n            async BindStudentFields(resultTable) {\r\n                try {\r\n                    resultTable.forEach(m => {\r\n                        this.lblCurrentStatus = m.Status;\r\n                        this.lblStudentIndexNo = m.Index_No;\r\n                        this.inputStudentID = m.Index_No;\r\n                        this.inputStudentFirstName = m.Full_Name;\r\n                        this.inputFatherFirstName = m.PAR_Father_FirstName;\r\n                        this.inputMotherFirstName = m.PAR_Mother_FirstName;\r\n                        this.inputStudentMiddleName = m.Middle_name;\r\n                        this.inputStudentLastName = m.Last_name;\r\n                        this.ddlStudentGender = m.Sex;\r\n                        this.inputStudentCorrespondanceAddress1 = m.st_corr_add_flrNo;\r\n                        this.inputStudentCorrespondanceAddress2 = m.st_corr_add_blkNo;\r\n                        this.inputStudentCorrespondanceCity = m.st_corr_add_stName;\r\n                        this.inputStudentCorrespondancePostalCode = m.st_corr_add_pstcode;\r\n                        this.inputStudentPostalCode = m.st_prm_add_pstcode;\r\n                        this.inputStudentAddress1 = m.st_prm_add_blkNo;\r\n                        this.inputStudentAddress2 = m.st_prm_add_flrNo;\r\n                        this.inputStudentAddress3 = m.st_prm_add_BlgName;\r\n                        if (m.DOB_convert !== '01/01/1901') {\r\n                            this.inputStudentDateOfBirth = m.DOB_convert;\r\n                        }\r\n                        ;\r\n                        this.ddlStudentReligion = m.St_Religion;\r\n                        this.ddlStudentNationality = m.Nationality;\r\n                        if (m.Regst_date_convert !== '01/01/1901') {\r\n                            this.inputFirstCommencementDate = m.Regst_date_convert;\r\n                        }\r\n                        ;\r\n                        this.ddlStudentAddressCountry = m.st_prm_add_country;\r\n                        this.inputStudentMobileNo = m.Handphone;\r\n                        this.inputStudentCorrespondanceAddress3 = m.st_corr_add_BlgName;\r\n                        this.ddlStudentResidencyStatus = m.student_type;\r\n                        this.ddlStudentPayer = m.sponsor_type;\r\n                        this.inputStudentIdentificationNo = m.ID_Number;\r\n                        this.inputStudentCity = m.st_prm_add_stName;\r\n                        this.ddlStudentAddressCorrespondanceCountry = m.st_corr_add_country;\r\n                        this.inputStudent2ndEmergencyContactNo = m.Fax;\r\n                        this.inputStudentEmail = m.email;\r\n                        this.inputStudent1stEmergencyContactNo = m.Telephone;\r\n                        this.inputStudentOfficeTelNo = m.Offphone;\r\n                        //this.ddlStudentSelectLevel = m.Course_Type;\r\n                        this.inputNameofFamilyDoctor = m.Family_Doctor;\r\n                        this.taMajorAilmentsList = m.Ailments;\r\n                        this.taMedicationAllergiesList = m.medication_allergic_to;\r\n                        this.inputBloodGroup = m.BLD_grp;\r\n                        this.inputBloodDonorNo = m.BLD_donor_no;\r\n                        this.inputClinicAddress = m.clinic_add;\r\n                        this.inputClinicPhoneNo = m.clinic_ph_no;\r\n                        //this.ddlStudentFirstAcademicYear = m.Semester;\r\n                        this.inputStudentPreferredName = m.St_Preferred_Name;\r\n                        this.ddlStudentAdditionalLanguage = m.St_Mother_Tongue;\r\n                        this.ddlStudentMealPreferences = m.St_Meal_Preferences;\r\n                        this.ddlStudentBirthPlace = m.St_Birth_Place;\r\n                        this.inputStudentFirstLanguageSpoken = m.St_AdditionalLanguage;\r\n                        this.inputSecondLanguageSpoken = m.St_SecondLanguageSpoken;\r\n                        this.ddlStudentMembership = m.ST_StudentMemership;\r\n                        if (m.ID_ExpDate_convert !== '01/01/1901') {\r\n                            this.inputStudentIdentificationExpiryDate = m.ID_ExpDate_convert;\r\n                        }\r\n                        ;\r\n                        this.inputStudentBirthCertificate = m.St_BirthCer_Number;\r\n                        this.inputStudentIC = m.St_IC_ID_Number;\r\n                        this.inputStudentPassport = m.St_Passport_Number;\r\n                        if (m.St_Passport_ExpDate_convert !== '01/01/1901') {\r\n                            this.inputStudentPassportExpiryDate = m.St_Passport_ExpDate_convert;\r\n                        }\r\n                        ;\r\n                        this.inputStudentOtherIdentification = m.St_Identification_Others;\r\n                    });\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindCountryList() {\r\n                try {\r\n                    const response = await DataSource.shared.getCountryList();\r\n                    if (response) {\r\n                        if (response.code === '88') {\r\n                            window.location.replace('/');\r\n                        }\r\n                        else {\r\n                            this.countryListResponse = response.Table;\r\n                            this.countryListResponse.forEach(m => {\r\n                                this.countryList.push(m);\r\n                            });\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async BindStudentDropdown() {\r\n                try {\r\n                    let jsonString = '\"Religion\":\"Religion\"';\r\n                    jsonString = jsonString + ',\"Mother Tongue\":\"Mother Tongue\"';\r\n                    jsonString = jsonString + ',\"Meal Preferences\":\"Meal Preferences\"';\r\n                    jsonString = jsonString + ',\"Student Membership\":\"Student Membership\"';\r\n                    jsonString = jsonString + ',\"Residency Status\":\"Residency Status\"';\r\n                    jsonString = jsonString + ',\"Sponsorship Type\":\"Sponsorship Type\"';\r\n                    jsonString = jsonString + ',\"ParentID\":\"ParentID\"';\r\n                    jsonString = jsonString + ',\"Food Allergies\":\"Food Allergies\"';\r\n                    jsonString = jsonString + ',\"Parent Mode\":\"Parent Mode\"';\r\n                    jsonString = \"{\" + jsonString + \"}\";\r\n\r\n                    const response = await DataSource.shared.getStudentDropDownList(jsonString);\r\n                    if (response) {\r\n                        if (response.code === '88') {\r\n                            window.location.replace('/');\r\n                        }\r\n                        else {\r\n                            this.studentDropDownListResponse = response.Table;\r\n                            this.studentDropDownListResponse.forEach(m => {\r\n                                if (m.OGPname.trim() === 'Religion') {\r\n                                    this.ddlStudentReligionList.push(m);\r\n                                } else if (m.OGPname.trim() === 'Mother Tongue') {\r\n                                    this.ddlStudentAdditionalLanguageList.push(m);\r\n                                } else if (m.OGPname.trim() === 'Meal Preferences') {\r\n                                    this.ddlStudentMealPreferencesList.push(m);\r\n                                } else if (m.OGPname.trim() === 'Student Membership') {\r\n                                    this.ddlStudentMembershipList.push(m);\r\n                                } else if (m.OGPname.trim() === 'Residency Status') {\r\n                                    this.ddlStudentResidencyStatusList.push(m);\r\n                                } else if (m.OGPname.trim() === 'Sponsorship Type') {\r\n                                    this.ddlStudentPayerList.push(m);\r\n                                } else if (m.OGPname.trim() === 'ParentID') {\r\n                                    this.ddlFatherIdentificationTypeList.push(m);\r\n                                    this.ddlMotherIdentificationTypeList.push(m);\r\n                                } else if (m.OGPname.trim() === 'Food Allergies') {\r\n                                    this.ddlddlStudentFoodAllergiesFoodList.push(m);\r\n                                } else if (m.OGPname.trim() === 'Parent Mode') {\r\n                                    this.ddlParentModeList.push(m);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async Validation() {\r\n                try {\r\n                    this.$v.$touch();\r\n                    if (this.$v.$error) {\r\n                        this.$notify.error({\r\n                            title: 'Error',\r\n                            message: 'Please fill in all * fields & at least one of ** field'\r\n                        });\r\n                        return;\r\n                    }\r\n                    this.Save();\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async Update() {\r\n                try{\r\n                    //students\r\n                    let jsonString = '\"Full_Name\":\"' + this.inputStudentFirstName + '\"';\r\n                    jsonString = jsonString + ',\"Middle_name\":\"' + this.inputStudentMiddleName + '\"';\r\n                    jsonString = jsonString + ',\"Last_name\":\"' + this.inputStudentLastName + '\"';\r\n                    jsonString = jsonString + ',\"Sex\":\"' + this.ddlStudentGender + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_flrNo\":\"' + this.inputStudentCorrespondanceAddress1 + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_blkNo\":\"' + this.inputStudentCorrespondanceAddress2 + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_stName\":\"' + this.inputStudentCorrespondanceCity + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_pstcode\":\"' + this.inputStudentCorrespondancePostalCode + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_pstcode\":\"' + this.inputStudentPostalCode + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_blkNo\":\"' + this.inputStudentAddress1 + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_flrNo\":\"' + this.inputStudentAddress2 + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_BlgName\":\"' + this.inputStudentAddress3 + '\"';\r\n                    jsonString = jsonString + ',\"DOB\":\"' + this.inputStudentDateOfBirth + '\"';\r\n                    jsonString = jsonString + ',\"St_Religion\":\"' + this.ddlStudentReligion + '\"';\r\n                    jsonString = jsonString + ',\"Nationality\":\"' + this.ddlStudentNationality + '\"';\r\n                    jsonString = jsonString + ',\"Regst_date\":\"' + this.inputFirstCommencementDate + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_country\":\"' + this.ddlStudentAddressCountry + '\"';\r\n                    jsonString = jsonString + ',\"Handphone\":\"' + this.inputStudentMobileNo + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_BlgName\":\"' + this.inputStudentCorrespondanceAddress3 + '\"';\r\n                    jsonString = jsonString + ',\"student_type\":\"' + this.ddlStudentResidencyStatus + '\"';\r\n                    jsonString = jsonString + ',\"sponsor_type\":\"' + this.ddlStudentPayer + '\"';\r\n                    jsonString = jsonString + ',\"ID_Number\":\"' + this.inputStudentIdentificationNo + '\"';\r\n                    jsonString = jsonString + ',\"st_prm_add_stName\":\"' + this.inputStudentCity + '\"';\r\n                    jsonString = jsonString + ',\"st_corr_add_country\":\"' + this.ddlStudentAddressCorrespondanceCountry + '\"';\r\n                    jsonString = jsonString + ',\"Fax\":\"' + this.inputStudent2ndEmergencyContactNo + '\"';\r\n                    jsonString = jsonString + ',\"email\":\"' + this.inputStudentEmail + '\"';\r\n                    jsonString = jsonString + ',\"Telephone\":\"' + this.inputStudent1stEmergencyContactNo + '\"';\r\n                    jsonString = jsonString + ',\"Offphone\":\"' + this.inputStudentOfficeTelNo + '\"';\r\n                    jsonString = jsonString + ',\"Family_Doctor\":\"' + this.inputNameofFamilyDoctor + '\"';\r\n                    jsonString = jsonString + ',\"Ailments\":\"' + this.taMajorAilmentsList + '\"';\r\n                    jsonString = jsonString + ',\"medication_allergic_to\":\"' + this.taMedicationAllergiesList + '\"';\r\n                    jsonString = jsonString + ',\"BLD_grp\":\"' + this.inputBloodGroup + '\"';\r\n                    jsonString = jsonString + ',\"BLD_donor_no\":\"' + this.inputBloodDonorNo + '\"';\r\n                    jsonString = jsonString + ',\"clinic_add\":\"' + this.inputClinicAddress + '\"';\r\n                    jsonString = jsonString + ',\"clinic_ph_no\":\"' + this.inputClinicPhoneNo + '\"';\r\n                    jsonString = jsonString + ',\"St_Preferred_Name\":\"' + this.inputStudentPreferredName + '\"';\r\n                    jsonString = jsonString + ',\"St_Mother_Tongue\":\"' + this.ddlStudentAdditionalLanguage + '\"';\r\n                    jsonString = jsonString + ',\"St_Meal_Preferences\":\"' + this.ddlStudentMealPreferences + '\"';\r\n                    jsonString = jsonString + ',\"St_Birth_Place\":\"' + this.ddlStudentBirthPlace + '\"';\r\n                    jsonString = jsonString + ',\"St_AdditionalLanguage\":\"' + this.inputStudentFirstLanguageSpoken + '\"';\r\n                    jsonString = jsonString + ',\"St_SecondLanguageSpoken\":\"' + this.inputSecondLanguageSpoken + '\"';\r\n                    jsonString = jsonString + ',\"ST_StudentMemership\":\"' + this.ddlStudentMembership + '\"';\r\n                    jsonString = jsonString + ',\"ID_ExpDate\":\"' + this.inputStudentIdentificationExpiryDate + '\"';\r\n                    jsonString = jsonString + ',\"St_BirthCer_Number\":\"' + this.inputStudentBirthCertificate + '\"';\r\n                    jsonString = jsonString + ',\"St_IC_ID_Number\":\"' + this.inputStudentIC + '\"';\r\n                    jsonString = jsonString + ',\"St_Passport_Number\":\"' + this.inputStudentPassport + '\"';\r\n                    jsonString = jsonString + ',\"St_Passport_ExpDate\":\"' + this.inputStudentPassportExpiryDate + '\"';\r\n                    jsonString = jsonString + ',\"St_Identification_Others\":\"' + this.inputStudentOtherIdentification + '\"';\r\n                    //students\r\n\r\n                    jsonString = '{ ' + jsonString + ' }';\r\n                    //allergies list combining into one whole list//\r\n                    let allergiesList = [];\r\n\r\n                    //medical\r\n                    this.medicationAllergiesListInt.forEach(item => {\r\n                        let medicationAllergiesListIntDetials = {\r\n                            Item: item.StAllItem,\r\n                            Remarks: item.StAllRemarks,\r\n                            Type: 'Medical'\r\n                        };\r\n\r\n                        allergiesList.push(medicationAllergiesListIntDetials);\r\n                    });\r\n\r\n                    //food\r\n                    this.foodAllergiesListInt.forEach(item => {\r\n                        let foodAllergiesListIntDetials = {\r\n                            Item: item.StAllItem,\r\n                            Remarks: item.StAllRemarks,\r\n                            Type: 'Food'\r\n                        };\r\n\r\n                        allergiesList.push(foodAllergiesListIntDetials);\r\n                    });\r\n                    //allergies list combining into one whole list//\r\n\r\n                    const saveStuRes = await DataSource.shared.updateStudent(this.selectedFile, this.studentID, jsonString, JSON.stringify(allergiesList));\r\n                    if (saveStuRes) {\r\n                        if (saveStuRes.code === '88') {\r\n                           // window.location.replace('/');\r\n                        }\r\n                        else if (saveStuRes.code === \"1\") {\r\n                            this.$notify({\r\n                                title: 'Success',\r\n                                message: 'Records Successfully Saved',\r\n                                type: 'success'\r\n                            });\r\n                           // window.location.replace('/MyAccount');\r\n                        } else {\r\n                            this.$notify.error({\r\n                                title: 'Error',\r\n                                message: 'Update Error - Please try again later'\r\n                            });\r\n                            // window.location.replace('/MyAccount');\r\n                        }\r\n                    }\r\n                }\r\n                catch(e){\r\n\r\n                }\r\n\r\n            },\r\n            addMedicationAllergiesList () {\r\n                if (this.inputStudentMedicationAllergiesMedication !== '' && this.inputStudentMedicationAllergiesRemarks !== '') {\r\n                    let addNewRowList = {\r\n                        StAllItem: this.inputStudentMedicationAllergiesMedication,\r\n                        StAllRemarks: this.inputStudentMedicationAllergiesRemarks,\r\n                    };\r\n\r\n                    this.medicationAllergiesListInt.push(addNewRowList);\r\n\r\n                    this.inputStudentMedicationAllergiesMedication = '';\r\n                    this.inputStudentMedicationAllergiesRemarks = '';\r\n                } else {\r\n                    alert('Please fill Medication and Remarks');\r\n                }\r\n            },\r\n            addFoodAllergiesList () {\r\n                if (this.ddlStudentFoodAllergiesFood !== '' && this.inputStudentFoodAllergiesRemarks !== '') {\r\n                    let addNewRowList = {\r\n                        StAllItem: this.ddlStudentFoodAllergiesFood,\r\n                        StAllRemarks: this.inputStudentFoodAllergiesRemarks,\r\n                    };\r\n\r\n                    this.foodAllergiesListInt.push(addNewRowList);\r\n\r\n                    this.ddlStudentFoodAllergiesFood = '';\r\n                    this.inputStudentFoodAllergiesRemarks = '';\r\n                } else {\r\n                    alert('Please fill Food and Remarks');\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n\r\n    .studentPageBTabs{\r\n        position: relative;\r\n    }\r\n    .alert-badge {\r\n        background: red;\r\n        width: 14px;\r\n        height: 14px;\r\n        text-align: center;\r\n        display: block;\r\n        border-radius: 50%;\r\n        font-weight: bold;\r\n        color: #fff;\r\n        position: absolute;\r\n        top: 3px;\r\n        line-height: 1.2;\r\n        font-size: 12px;\r\n    }\r\n\r\n    .badge1 {\r\n        left: 83px;\r\n    }\r\n\r\n    .badge2 {\r\n        left: 185px;\r\n    }\r\n\r\n    .badge4 {\r\n        left: 503px;\r\n    }\r\n    .studentAreaDiv, .familyIDAreaDiv, .parentAreaDiv, .amAreaDiv, .ecAreaDiv {\r\n    }\r\n\r\n    .btnFamilyIDSearch {\r\n        margin-top: 10px;\r\n    }\r\n\r\n    .el-date-editor, .el-input {\r\n        width: 100% !important;\r\n    }\r\n\r\n    .requiredFields {\r\n        border-color: #f79483;\r\n    }\r\n\r\n    .requiredFieldsMsg {\r\n        color: red;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .buttonArea {\r\n        margin: 20px 0 0 0;\r\n    }\r\n\r\n    .buttonArea .btn-primary {\r\n        margin: 0 0 0 20px;\r\n    }\r\n\r\n    .btn-primary {\r\n        display: inline;\r\n    }\r\n\r\n    .modeArea {\r\n        text-align: left;\r\n    }\r\n\r\n    .textArea {\r\n        width: 100%;\r\n        resize: none;\r\n    }\r\n\r\n    ::-webkit-scrollbar-track {\r\n        background-color: whitesmoke;\r\n    }\r\n\r\n    .lblSearchFamily {\r\n        width: 100%;\r\n    }\r\n\r\n    .siblingNoRecordArea {\r\n        padding: 20px;\r\n    }\r\n\r\n    .changeStatusArea {\r\n        background-color: white;\r\n        text-align: left;\r\n        padding: 0px;\r\n    }\r\n\r\n    .ddlChangeStatusTo, .lblChangeStatusTo, .btnChangeStatus {\r\n        width: auto;\r\n        display: inline !important;\r\n        margin: 10px;\r\n    }\r\n\r\n    .imgStudentProfile:hover {\r\n        cursor: pointer;\r\n    }\r\n\r\n    .imgStudentProfile {\r\n        /*width: 300px;*/\r\n        /*height: 300px;*/\r\n        width: 200px;\r\n        height: auto;\r\n        border-radius: 100%;\r\n        background-color: #ffffff;\r\n        margin-top: 16px;\r\n    }\r\n\r\n    .profilePictureArea {\r\n        text-align: left;    position: relative;\r\n    }\r\n\r\n    .familyIDAreaDiv button {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .profile_wrap span {\r\n        font-size: 20px;\r\n        margin-left: auto;\r\n        letter-spacing: 7px;\r\n        text-transform: uppercase;\r\n    }\r\n\r\n    .profile_wrap {\r\n        display: flex;\r\n        align-items: center;    position: relative;\r\n    }\r\n    .profilePictureArea:before {\r\n        content: \"\";\r\n        background: white;\r\n        display: block;\r\n        height: 69%;\r\n        position: absolute;\r\n        width: 100%;\r\n        top: -10px;\r\n    }\r\n\r\n    .fa-clone {\r\n        font-size: 30px;\r\n        border-radius: 40%;\r\n        padding: 10px;\r\n        background-color: #4CAF50;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .fa-clone:hover {\r\n        background-color: #5fb962;\r\n    }\r\n\r\n    .ttStuCorAddCopy{\r\n        text-align: left;\r\n    }\r\n\r\n    .ttStuCorAddCopy .ttnStuCorAddCopy{\r\n        visibility: hidden;\r\n        width: auto;\r\n        background-color: #555;\r\n        color: #fff;\r\n        text-align: center;\r\n        border-radius: 5px;\r\n        padding: 5px;\r\n\r\n        /* Position the tooltip */\r\n        position: absolute;\r\n        z-index: 1;\r\n    }\r\n\r\n    .ttStuCorAddCopy:hover .ttnStuCorAddCopy{\r\n        visibility: visible;\r\n    }\r\n</style>\r\n\r\n<style>\r\n\r\n    .studentPageBTabs .tab-content {\r\n        margin-top: 30px;\r\n    }\r\n\r\n    .studentPageBTabs .nav-link {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .studentPageBTabs .nav-tabs .nav-link.active {\r\n        background-color: #413f56;\r\n        color: white;\r\n        border: 5px solid #dee2e6;\r\n    }\r\n\r\n    .studentPageBTabs .nav-tabs {\r\n        border-bottom: 5px solid #dee2e6;\r\n    }\r\n</style>"]}]}