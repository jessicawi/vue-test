{"remainingRequest":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\App.vue","mtime":1557843728965},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1552619052419},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1552619058571}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Header from \"./components/Header\";\nimport MainContent from \"./components/MainContent\";\nimport DataSource from \"./data/datasource\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n    name: 'app',\n    data() {\n        return {\n            isLoading: true,\n            token: null,\n            isLoggedIn: null,\n            isSessionModalOpen: false,\n        };\n    },\n    components: {\n        MainContent,\n        Header,\n    },\n    mounted() {\n        const isLogin = Cookies.get('authToken');\n        if (this.$route.path !== \"/login\" && this.$route.path !== \"/register/parent\" && this.$route.path !== \"/reset-password\" && this.$route.path !== \"/reset-email\"  && (!isLogin || isLogin === \"null\")) {\n            // alert(\"expired\");\n            this.$message.error('Please login .');\n            this.$router.push('/login')\n        }else if (isLogin) {\n            this.isLoggedIn = true;\n            // setTimeout(this.warningLogout, 10800000); // 3 hours\n        }\n        if (isLogin===null){\n            this.$router.push('/login');\n        }\n        this.isLoading = false;\n\n    },\n    methods: {\n        warningLogout() {\n            this.isSessionModalOpen = true;\n            // const result = \"Session expired, press ok to continue login, press cancel to logout\";\n            setTimeout(this.cancelClick, 10800);\n\n        },\n        okClick() {\n            // continue login\n            // repeating after some time warning session expired\n            setTimeout(this.warningLogout, 10800000); // 3 hours\n            this.isSessionModalOpen = false;\n\n        },\n        cancelClick() {\n            DataSource.shared.logout();\n            Cookies.remove('authToken');\n        },\n    }\n};\n\n\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n    <!-- eslint-disable -->\r\n    <div v-if=\"isLoading===false\" id=\"app\">\r\n        <Header/>\r\n        <MainContent>\r\n            <router-view/>\r\n        </MainContent>\r\n        <b-modal id=\"modaltimeout\" hide-footer title=\"SESSION EXPIRED\" v-model=\"isSessionModalOpen\">\r\n            Session expired, press ok to continue login, press cancel to logout\r\n            <br/>\r\n            <div class=\"row d-flex submit-wrap\">\r\n                <div class=\"col-md-6\">\r\n                    <b-btn class=\"float-left\" @click=\"cancelClick\">Cancel</b-btn>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <b-btn class=\"float-right\" @click=\"okClick\">OK</b-btn>\r\n                </div>\r\n            </div>\r\n        </b-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Header from \"./components/Header\";\r\n    import MainContent from \"./components/MainContent\";\r\n    import DataSource from \"./data/datasource\";\r\n    import Cookies from \"js-cookie\";\r\n\r\n    export default {\r\n        name: 'app',\r\n        data() {\r\n            return {\r\n                isLoading: true,\r\n                token: null,\r\n                isLoggedIn: null,\r\n                isSessionModalOpen: false,\r\n            };\r\n        },\r\n        components: {\r\n            MainContent,\r\n            Header,\r\n        },\r\n        mounted() {\r\n            const isLogin = Cookies.get('authToken');\r\n            if (this.$route.path !== \"/login\" && this.$route.path !== \"/register/parent\" && this.$route.path !== \"/reset-password\" && this.$route.path !== \"/reset-email\"  && (!isLogin || isLogin === \"null\")) {\r\n                // alert(\"expired\");\r\n                this.$message.error('Please login .');\r\n                this.$router.push('/login')\r\n            }else if (isLogin) {\r\n                this.isLoggedIn = true;\r\n                // setTimeout(this.warningLogout, 10800000); // 3 hours\r\n            }\r\n            if (isLogin===null){\r\n                this.$router.push('/login');\r\n            }\r\n            this.isLoading = false;\r\n\r\n        },\r\n        methods: {\r\n            warningLogout() {\r\n                this.isSessionModalOpen = true;\r\n                // const result = \"Session expired, press ok to continue login, press cancel to logout\";\r\n                setTimeout(this.cancelClick, 10800);\r\n\r\n            },\r\n            okClick() {\r\n                // continue login\r\n                // repeating after some time warning session expired\r\n                setTimeout(this.warningLogout, 10800000); // 3 hours\r\n                this.isSessionModalOpen = false;\r\n\r\n            },\r\n            cancelClick() {\r\n                DataSource.shared.logout();\r\n                Cookies.remove('authToken');\r\n            },\r\n        }\r\n    };\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n    body {\r\n    }\r\n\r\n    .el-table th > .cell {\r\n        white-space: nowrap;\r\n    }\r\n\r\n    #app {\r\n        font-family: 'Montserrat', Helvetica, Arial, sans-serif;\r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n        text-align: center;\r\n        color: #2c3e50;\r\n        background: #f1f1f1;\r\n        font-size: 0.9rem;\r\n    }\r\n\r\n    .white-box {\r\n        background: #fff;\r\n        padding: 15px;\r\n        border-radius: 2px;\r\n        box-shadow: 1px 1px 4px #e0e0e0;\r\n        margin: 5px 0;\r\n    }\r\n\r\n    a {\r\n        text-decoration: none !important;\r\n    }\r\n\r\n    .loading-screen{\r\n        position: fixed;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 999;\r\n        background: rgba(255, 255, 255, 0.63);\r\n        color: #000;\r\n        top: 0;\r\n        left: 0;\r\n        font-size: 30px;\r\n    }\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n    $theme-colors: (\r\n            primary: #f44252\r\n    )\r\n</style>"]}]}