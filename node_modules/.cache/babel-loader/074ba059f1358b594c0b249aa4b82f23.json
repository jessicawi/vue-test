{"remainingRequest":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\PostApprove.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\src\\pages\\PostApprove.vue","mtime":1555523233012},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1552619052419},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552619058231},{"path":"C:\\Users\\jessi\\Documents\\git\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1552619058571}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\jessi\\\\Documents\\\\git\\\\vue-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataSource from \"../data/datasource\";\nimport PostComponent from \"../components/postCompnent\";\nexport default {\n  name: \"PostApprove\",\n  components: {\n    PostComponent: PostComponent\n  },\n  data: function data() {\n    return {\n      postID: '',\n      postType: '',\n      postList: [],\n      approverPostAction: '',\n      postCommentHistoryList: [],\n      inputPostComment: '',\n      passTrueToPostComponent: 'YES'\n    };\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(this.$route.params.postID === '' || this.$route.params.postID === null || this.$route.params.postID === undefined)) {\n                _context.next = 9;\n                break;\n              }\n\n              if (!(this.$route.query.id != null || this.$route.query.id !== undefined)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return this.deString(this.$route.query.id);\n\n            case 4:\n              _context.next = 7;\n              break;\n\n            case 6:\n              this.$router.push('/portfolio');\n\n            case 7:\n              _context.next = 16;\n              break;\n\n            case 9:\n              this.postID = this.$route.params.postID;\n              _context.next = 12;\n              return this.getPost(this.$route.params.postID);\n\n            case 12:\n              _context.next = 14;\n              return this.checkApprover(this.$route.params.postID);\n\n            case 14:\n              _context.next = 16;\n              return this.getPostComment(this.$route.params.postID);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  methods: {\n    deString: function () {\n      var _deString = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(inputString) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return DataSource.shared.deString(inputString);\n\n              case 3:\n                response = _context2.sent;\n\n                if (!response) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                _context2.t0 = response.code;\n                _context2.next = _context2.t0 === \"88\" ? 8 : _context2.t0 === \"99\" ? 10 : 12;\n                break;\n\n              case 8:\n                this.$router.push('/');\n                return _context2.abrupt(\"break\", 12);\n\n              case 10:\n                this.$router.push('/pendingapprover');\n                return _context2.abrupt(\"break\", 12);\n\n              case 12:\n                this.postID = response.string;\n                _context2.next = 15;\n                return this.getPost(this.postID);\n\n              case 15:\n                _context2.next = 17;\n                return this.checkApprover(this.postID);\n\n              case 17:\n                _context2.next = 19;\n                return this.getPostComment(this.postID);\n\n              case 19:\n                _context2.next = 24;\n                break;\n\n              case 21:\n                _context2.prev = 21;\n                _context2.t1 = _context2[\"catch\"](0);\n                this.results = _context2.t1;\n\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 21]]);\n      }));\n\n      function deString(_x) {\n        return _deString.apply(this, arguments);\n      }\n\n      return deString;\n    }(),\n    getPost: function () {\n      var _getPost = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(postID) {\n        var jsonStringPostID, response, _response;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                jsonStringPostID = JSON.stringify([postID]);\n                _context3.next = 4;\n                return DataSource.shared.getPostByPostIDByStatus(jsonStringPostID, 'PENDING');\n\n              case 4:\n                response = _context3.sent;\n\n                if (!response) {\n                  _context3.next = 23;\n                  break;\n                }\n\n                if (!(response.code === '88')) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                window.location.replace('/');\n                _context3.next = 23;\n                break;\n\n              case 10:\n                if (!(response.code === '99')) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                this.$notify.error({\n                  title: 'Error',\n                  message: 'Error'\n                });\n                _context3.next = 23;\n                break;\n\n              case 14:\n                if (!(response.code === '2')) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                _context3.next = 17;\n                return DataSource.shared.getPostByPostID(jsonStringPostID);\n\n              case 17:\n                _response = _context3.sent;\n\n                if (_response) {\n                  if (_response.code === '88') {\n                    window.location.replace('/');\n                  } else if (_response.code === '99') {\n                    this.$notify.error({\n                      title: 'Error',\n                      message: 'Error'\n                    });\n                  } else if (_response.code === '2') {\n                    window.location.replace('/pendingapprover');\n                  } else {\n                    this.postList = _response.Table;\n                    this.postType = 'Posting - ' + _response.Table[0].PostType;\n                  }\n                }\n\n                _context3.next = 23;\n                break;\n\n              case 21:\n                this.postList = response.Table;\n                this.postType = 'Posting - ' + response.Table[0].PostType;\n\n              case 23:\n                _context3.next = 28;\n                break;\n\n              case 25:\n                _context3.prev = 25;\n                _context3.t0 = _context3[\"catch\"](0);\n                this.results = _context3.t0;\n\n              case 28:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 25]]);\n      }));\n\n      function getPost(_x2) {\n        return _getPost.apply(this, arguments);\n      }\n\n      return getPost;\n    }(),\n    checkApprover: function () {\n      var _checkApprover = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(postID) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return DataSource.shared.checkApproveStatusByUser(postID, \"POSTING\");\n\n              case 3:\n                response = _context4.sent;\n\n                if (response) {\n                  if (response.code === '1') {\n                    this.approverPostAction = true;\n                  } else {\n                    this.approverPostAction = false;\n                  }\n                }\n\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                this.results = _context4.t0;\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 7]]);\n      }));\n\n      function checkApprover(_x3) {\n        return _checkApprover.apply(this, arguments);\n      }\n\n      return checkApprover;\n    }(),\n    getPostComment: function () {\n      var _getPostComment = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(postID) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return DataSource.shared.getApproverComment(postID);\n\n              case 3:\n                response = _context5.sent;\n\n                if (response) {\n                  this.postCommentHistoryList = response.Table;\n                }\n\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                this.results = _context5.t0;\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      function getPostComment(_x4) {\n        return _getPostComment.apply(this, arguments);\n      }\n\n      return getPostComment;\n    }(),\n    approvePost: function () {\n      var _approvePost = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6(actionStatus) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                this.$vs.loading();\n                _context6.next = 4;\n                return DataSource.shared.approvePost(this.postID, this.postType, actionStatus, this.inputPostComment);\n\n              case 4:\n                response = _context6.sent;\n\n                if (response) {\n                  this.$vs.loading.close();\n\n                  if (response) {\n                    if (response.code === '88') {\n                      window.location.replace('/');\n                    } else if (response.code === '99') {\n                      this.$notify.error({\n                        title: 'Error',\n                        message: 'Error'\n                      });\n                    } else {\n                      this.$notify({\n                        title: 'Success',\n                        message: 'Done!',\n                        type: 'success'\n                      });\n                      this.$router.go(-1); // window.location.replace('/');\n                    }\n                  }\n                }\n\n                _context6.next = 11;\n                break;\n\n              case 8:\n                _context6.prev = 8;\n                _context6.t0 = _context6[\"catch\"](0);\n                this.results = _context6.t0;\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 8]]);\n      }));\n\n      function approvePost(_x5) {\n        return _approvePost.apply(this, arguments);\n      }\n\n      return approvePost;\n    }()\n  }\n};",{"version":3,"sources":["PostApprove.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div id=\"postapprove\">\r\n        <div class=\"container\">\r\n            <div class=\"row header\">\r\n                <h3 class=\"col-lg-8 text-left\">POST REQUEST</h3>\r\n                <div class=\"col-lg-4\">\r\n                    <router-link :to=\"{name: 'Pending Approver'}\">\r\n                        <el-button type=\"primary\" round class=\"float-right\"><i class=\"material-icons\">\r\n                            chevron_left\r\n                        </i> BACK</el-button>\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n            <div class=\"row post-approve_content\">\r\n                <div v-if=\"approverPostAction\" class=\"action-btn pt-2 pb-2\">\r\n                    <el-button type=\"primary\" round v-on:click=\"approvePost('APPROVED')\"\r\n                               class=\"btn btn-primary waves-effect waves-light m-r-10 btnFamilyIDSearch\"><i\r\n                            class=\"material-icons\">\r\n                        check\r\n                    </i> Approve\r\n                    </el-button>\r\n                    <el-button type=\"info\" round v-on:click=\"approvePost('REJECT')\"\r\n                               class=\"btn btn-info waves-effect waves-light m-r-10 btnFamilyIDSearch\"><i\r\n                            class=\"material-icons\">\r\n                        close\r\n                    </i> Reject\r\n                    </el-button>\r\n                </div>\r\n                <label style=\"display:none !important;\">{{ postID }}</label>\r\n                <label style=\"display:none !important;\">{{ postType }}</label>\r\n\r\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\" v-for=\"object of postList\">\r\n                    <PostComponent\r\n                            :parent-post=\"object\"\r\n                            @commentitemSubmit=\"commentitemSubmit\"\r\n                            @commentEdit=\"commentEdit\"\r\n                            @commentDelete=\"commentDelete\"\r\n                            :commentPostContent=\"commentPostContent\"\r\n                            :PostID=\"object\"\r\n                            @loadPosts=\"loadPosts\"\r\n                            :approverPost=\"passTrueToPostComponent\"\r\n                    />\r\n                </div>\r\n\r\n                <div class=\"col-lg-12 pt-4\">\r\n                    <h6 class=\"text-left\"><i class=\"material-icons\">\r\n                        event_note\r\n                    </i> Remark:</h6>\r\n\r\n                    <div v-for=\"value in postCommentHistoryList\" class=\"preview-comment__list\">\r\n\r\n                        <label class=\"preview-comment__commenter\">\r\n                            Commenter: {{ value.CONname }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span>Date: {{ value.AppComCreatedDate_convert }}</span>\r\n                        </label>\r\n                        <label>\r\n                            {{ value.AppComValue }}\r\n                        </label>\r\n                    </div>\r\n\r\n                    <!--<input type=\"text\" class=\"form-control\" v-model=\"inputPostComment\">-->\r\n                    <el-input\r\n                            type=\"textarea\"\r\n                            autosize\r\n                            v-model=\"inputPostComment\"\r\n                            class=\"pt-3 custom-textarea\">\r\n                    </el-input>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import DataSource from \"../data/datasource\";\r\n    import PostComponent from \"../components/postCompnent\";\r\n\r\n    export default {\r\n        name: \"PostApprove\",\r\n        components: {\r\n            PostComponent,\r\n        },\r\n        data() {\r\n            return {\r\n                postID: '',\r\n                postType: '',\r\n                postList: [],\r\n                approverPostAction: '',\r\n                postCommentHistoryList: [],\r\n                inputPostComment: '',\r\n                passTrueToPostComponent: 'YES',\r\n            };\r\n        },\r\n        async created() {\r\n            if (this.$route.params.postID === '' || this.$route.params.postID === null || this.$route.params.postID === undefined) { //this is from email link\r\n                if (this.$route.query.id != null || this.$route.query.id !== undefined) {\r\n                    await this.deString(this.$route.query.id);\r\n                } else {\r\n                    this.$router.push('/portfolio');\r\n                }\r\n            } else {\r\n                this.postID = this.$route.params.postID;\r\n\r\n                await this.getPost(this.$route.params.postID);\r\n                await this.checkApprover(this.$route.params.postID);\r\n                await this.getPostComment(this.$route.params.postID);\r\n            }\r\n        },\r\n        methods: {\r\n            async deString(inputString) {\r\n                try {\r\n                    const response = await DataSource.shared.deString(inputString);\r\n                    if (response) {\r\n                        switch (response.code) {\r\n                            case \"88\":\r\n                                this.$router.push('/');\r\n                                break;\r\n                            case \"99\":\r\n                                this.$router.push('/pendingapprover');\r\n                                break;\r\n                        }\r\n                        this.postID = response.string;\r\n\r\n                        await this.getPost(this.postID);\r\n                        await this.checkApprover(this.postID);\r\n                        await this.getPostComment(this.postID);\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async getPost(postID) {\r\n                try {\r\n                    let jsonStringPostID = JSON.stringify([postID]);\r\n\r\n                    const response = await DataSource.shared.getPostByPostIDByStatus(jsonStringPostID, 'PENDING');\r\n                    if (response) {\r\n                        if (response.code === '88') {\r\n                            window.location.replace('/');\r\n                        } else if (response.code === '99') {\r\n                            this.$notify.error({\r\n                                title: 'Error',\r\n                                message: 'Error'\r\n                            });\r\n                        } else if (response.code === '2') {\r\n                            const response = await DataSource.shared.getPostByPostID(jsonStringPostID);\r\n                            if (response) {\r\n                                if (response.code === '88') {\r\n                                    window.location.replace('/');\r\n                                } else if (response.code === '99') {\r\n                                    this.$notify.error({\r\n                                        title: 'Error',\r\n                                        message: 'Error'\r\n                                    });\r\n                                } else if (response.code === '2') {\r\n                                    window.location.replace('/pendingapprover');\r\n                                } else {\r\n                                    this.postList = response.Table;\r\n                                    this.postType = 'Posting - ' + response.Table[0].PostType;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            this.postList = response.Table;\r\n                            this.postType = 'Posting - ' + response.Table[0].PostType;\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async checkApprover(postID) {\r\n                try {\r\n                    const response = await DataSource.shared.checkApproveStatusByUser(postID, \"POSTING\");\r\n                    if (response) {\r\n                        if (response.code === '1') {\r\n                            this.approverPostAction = true;\r\n                        } else {\r\n                            this.approverPostAction = false;\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async getPostComment(postID) {\r\n                try {\r\n                    const response = await DataSource.shared.getApproverComment(postID);\r\n                    if (response) {\r\n                        this.postCommentHistoryList = response.Table;\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n            async approvePost(actionStatus) {\r\n                try {\r\n                    this.$vs.loading();\r\n\r\n                    const response = await DataSource.shared.approvePost(this.postID, this.postType, actionStatus, this.inputPostComment);\r\n                    if (response) {\r\n                        this.$vs.loading.close();\r\n                        if (response) {\r\n                            if (response.code === '88') {\r\n                                window.location.replace('/');\r\n                            } else if (response.code === '99') {\r\n                                this.$notify.error({\r\n                                    title: 'Error',\r\n                                    message: 'Error'\r\n                                });\r\n                            } else {\r\n                                this.$notify({\r\n                                    title: 'Success',\r\n                                    message: 'Done!',\r\n                                    type: 'success'\r\n                                });\r\n                                this.$router.go(-1);\r\n                                // window.location.replace('/');\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    this.results = e;\r\n                }\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src\\pages"}]}